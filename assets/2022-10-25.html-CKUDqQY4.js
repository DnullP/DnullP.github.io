import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as e,c as a,e as n}from"./app-DCTCPPGQ.js";const o={},p=n('<h3 id="ip任播" tabindex="-1"><a class="header-anchor" href="#ip任播"><span>IP任播</span></a></h3><p>首先<strong>任播</strong>的寻址策略为，在一群的接收节点中，只有一个可以得到接收</p><p>可以想象成主机向各个节点执行<strong>广播</strong>，当有一个节点接收到主机的信息时，其他节点就无法再接收主机的信息，即在一群可能的接收节点只有一个接收节点</p><h3 id="bgp协议" tabindex="-1"><a class="header-anchor" href="#bgp协议"><span>BGP协议</span></a></h3><h4 id="内部和外部" tabindex="-1"><a class="header-anchor" href="#内部和外部"><span>内部和外部</span></a></h4><p>跨越AS的BGP链接称为外部BGP，相同AS中的两台路由器之间的BGP称为内部BGP</p><h4 id="bgp是什么" tabindex="-1"><a class="header-anchor" href="#bgp是什么"><span>BGP是什么</span></a></h4><p>BGP是AS之间的路由选择协议，在路由器之间通过TCP链接交换进行AS间的路由选择的必要信息（称为BGP attribute）：</p><ul><li>AS-Path —— 包含目前已经通告的路径的列表</li><li>NEXT-HOP —— AS-Path起始AS的路由器（网关路由器）的与外部相连的接口</li></ul><p>BGP的选择由以下规则集确定：</p><ul><li>1）路由被指派一个<strong>local preference</strong>作为最高级别的优先选择</li><li>2）使用DV算法计算具有最短AS-Path的路径，使用的是AS的跳数而非路由的跳数</li><li>3）对于剩下的拥有相同AS-Path的路径，使用<strong>hot potato routing</strong>进行选择，即选择离开当前AS可以到达的最短AS<strong>内</strong>路径</li><li>4）剩下如果还有多条路由，则使用BGP标识符</li></ul><p>可以注意到这里的BGP是高于DV和LS的路由协议（DV和LS是算法，但是也可以考虑它们是一种路由协议），它通过制定一个规则集、使用DV路由、HP路由等方式进行路由选择，并且传递的必要信息是从起始点一步步传播的</p><p>我们称之为<strong>path-vector routing protocol</strong>，这表示它在一条路径上传播路由向量信息，如果反复感受这个过程，也可以理解</p><p>BGP最终是用来控制网络层的路由选择的，但是由于使用TCP进行路由器之间的通信，所以实际上BGP被划分为一个应用层的协议</p><h4 id="bgp和ip任播" tabindex="-1"><a class="header-anchor" href="#bgp和ip任播"><span>BGP和IP任播</span></a></h4><p>我们说IP任播的实现原理是通过BGP来实现的</p><p>我们直接以书上的例子来说明。现在假设我们访问一个视频，视频网站将会在很多个服务器上拥有视频的复制，这些服务器就是之前我们所学习过的CDN，这些CDN被分配了相同的IP地址 当客户端发出视频的请求时，通过BGP选择路由的方式，一定会有一个符合条件的CDN首先接收到BGP传输的path-vector message，此时路由配置中就会选择这个最先匹配到的服务器作为路由的目标，其他的服务器就不再会和客户端建立连接，从而实现了IP任播</p><h4 id="bgp是从接收端向网络中发送路由信息的" tabindex="-1"><a class="header-anchor" href="#bgp是从接收端向网络中发送路由信息的"><span>BGP是从接收端向网络中发送路由信息的</span></a></h4><p>并将自己的路由信息通知到整个网络</p>',19),r=[p];function i(s,l){return e(),a("div",null,r)}const c=t(o,[["render",i],["__file","2022-10-25.html.vue"]]),d=JSON.parse(`{"path":"/posts/network/self-studying-notes/2022-10-25.html","title":"关于IP任播、BGP选择以及应用","lang":"zh-CN","frontmatter":{"date":"2021-01-01T00:00:00.000Z","title":"关于IP任播、BGP选择以及应用","tag":["Computer-Network"],"categories":["反思"],"mathjax":true,"description":"IP任播 首先任播的寻址策略为，在一群的接收节点中，只有一个可以得到接收 可以想象成主机向各个节点执行广播，当有一个节点接收到主机的信息时，其他节点就无法再接收主机的信息，即在一群可能的接收节点只有一个接收节点 BGP协议 内部和外部 跨越AS的BGP链接称为外部BGP，相同AS中的两台路由器之间的BGP称为内部BGP BGP是什么 BGP是AS之间的...","head":[["meta",{"property":"og:url","content":"https://Dnullp.github.io/posts/network/self-studying-notes/2022-10-25.html"}],["meta",{"property":"og:site_name","content":"Dnull's Blog"}],["meta",{"property":"og:title","content":"关于IP任播、BGP选择以及应用"}],["meta",{"property":"og:description","content":"IP任播 首先任播的寻址策略为，在一群的接收节点中，只有一个可以得到接收 可以想象成主机向各个节点执行广播，当有一个节点接收到主机的信息时，其他节点就无法再接收主机的信息，即在一群可能的接收节点只有一个接收节点 BGP协议 内部和外部 跨越AS的BGP链接称为外部BGP，相同AS中的两台路由器之间的BGP称为内部BGP BGP是什么 BGP是AS之间的..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-14T13:35:40.000Z"}],["meta",{"property":"article:author","content":"Dnull"}],["meta",{"property":"article:tag","content":"Computer-Network"}],["meta",{"property":"article:published_time","content":"2021-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-14T13:35:40.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"关于IP任播、BGP选择以及应用\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-14T13:35:40.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Dnull\\",\\"url\\":\\"https://Dnullp.github.io\\"}]}"]]},"headers":[{"level":3,"title":"IP任播","slug":"ip任播","link":"#ip任播","children":[]},{"level":3,"title":"BGP协议","slug":"bgp协议","link":"#bgp协议","children":[]}],"git":{"createdTime":1712936892000,"updatedTime":1713101740000,"contributors":[{"name":"DnullP","email":"dnull123p@gmail.com","commits":2}]},"readingTime":{"minutes":2.64,"words":792},"filePathRelative":"posts/network/self-studying-notes/2022-10-25.md","localizedDate":"2021年1月1日","excerpt":"<h3>IP任播</h3>\\n<p>首先<strong>任播</strong>的寻址策略为，在一群的接收节点中，只有一个可以得到接收</p>\\n<p>可以想象成主机向各个节点执行<strong>广播</strong>，当有一个节点接收到主机的信息时，其他节点就无法再接收主机的信息，即在一群可能的接收节点只有一个接收节点</p>\\n<h3>BGP协议</h3>\\n<h4>内部和外部</h4>\\n<p>跨越AS的BGP链接称为外部BGP，相同AS中的两台路由器之间的BGP称为内部BGP</p>\\n<h4>BGP是什么</h4>\\n<p>BGP是AS之间的路由选择协议，在路由器之间通过TCP链接交换进行AS间的路由选择的必要信息（称为BGP attribute）：</p>","autoDesc":true}`);export{c as comp,d as data};
