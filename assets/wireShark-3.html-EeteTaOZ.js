import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as t,c as s,e as a}from"./app-DCTCPPGQ.js";const i={},n=a(`<ol><li>Run nslookup to obtain the IP address of a Web server in Asia. What is the IP address of that server?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>nslookup www.baidu.com
Server:  UnKnown
Address:  10.3.9.44

Non-authoritative answer:
Name:    www.a.shifen.com
Addresses:  39.156.66.14
          39.156.66.18
Aliases:  www.baidu.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Run nslookup to determine the authoritative DNS servers for a university in Europe.</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>nslookup -type=NS bupt.edu.cn
Server:  UnKnown
Address:  10.3.9.44

Non-authoritative answer:
bupt.edu.cn     nameserver = ns.buptnet.edu.cn
bupt.edu.cn     nameserver = gus.buptnet.edu.cn
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Run nslookup so that one of the DNS servers obtained in Question 2 is queried for the mail servers for Yahoo! mail. What is its IP address?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>nslookup www.baidu.com ns.buptnet.edu.cn
Server:  UnKnown
Address:  2001:da8:202:10::37
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>国内没有yahoo, 用百度代替</p><hr><p>这一部分使用wireshark进行抓包分析</p><ol start="4"><li>Locate the DNS query and response messages. Are then sent over UDP or TCP?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>UDP
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="5"><li>What is the destination port for the DNS query message? What is the source port of DNS response message?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Source Address: 10.21.180.15
Destination Address: 10.3.9.44
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>To what IP address is the DNS query message sent? Use ipconfig to determine the IP address of your local DNS server. Are these two IP addresses the same?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>DNS Servers . . . . . . . . . . . : 10.3.9.44 //the same
                                    10.3.9.45
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="7"><li>Examine the DNS query message. What “Type” of DNS query is it? Does the query message contain any “answers”?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>一些是A类型, 一些是AAAA类型查询
在response中的类型可能包含一些CNAME类型, 这是域名的别名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="8"><li>Examine the DNS response message. How many “answers” are provided? What do each of these answers contain?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>有些提供两个有些提供三个, 其中包含两个不同的DNS地址和一个CNAME别名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><ol start="9"><li>Consider the subsequent TCP SYN packet sent by your host. Does the destination IP address of the SYN packet correspond to any of the IP addresses provided in the DNS response message?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>一样的, 但是发送的双方都使用的是ipv6地址, 导致之前使用IPV4地址过滤时查不到
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="10"><li>This web page contains images. Before retrieving each image, does your host issue new DNS queries?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>后面确实还有一些DNS查询, 但是看起来并不是为了获取图片而进行的
图片的请求应该使用的QUIC协议, 并且内容受到保护的样子
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>下面是对nslookup的抓包:</p><ol start="11"><li>What is the destination port for the DNS query message? What is the source port of DNS response message?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>both are 53
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="12"><li>To what IP address is the DNS query message sent? Is this the IP address of your default local DNS server?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>yes, it is 10.3.9.44
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="13"><li>Examine the DNS query message. What “Type” of DNS query is it? Does the query message contain any “answers”?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Type is A and AAAA, and it contains some answers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="14"><li>Examine the DNS response message. How many “answers” are provided? What do each of these answers contain?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>it contains three answers, two of them are CNAME and one is A
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="15"><li>Provide a screenshot.</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>no way
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><ol start="16"><li>To what IP address is the DNS query message sent? Is this the IP address of your default local DNS server?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>学校的dns查不到mit的域名, 所以使用google的公共DNS做替代:
2001:4860:4860::8888
显然不是我的默认DNS服务器
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="17"><li>Examine the DNS query message. What “Type” of DNS query is it? Does the query message contain any “answers”?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>当然是NS类型, nslookup的参数设定里就是这么查询的
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="18"><li>Examine the DNS response message. What MIT nameservers does the response message provide? Does this response message also provide the IP addresses of the MIT namesers?</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Only provide the name of the MIT nameservers, not the IP addresses
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="19"><li>Provide a screenshot.</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>no way
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>最后三个差不多, 就不做了</p>`,46),r=[n];function d(l,o){return t(),s("div",null,r)}const v=e(i,[["render",d],["__file","wireShark-3.html.vue"]]),m=JSON.parse(`{"path":"/posts/network/works-projects/wireShark-3.html","title":"wireshark practice 3 - DNS","lang":"zh-CN","frontmatter":{"title":"wireshark practice 3 - DNS","tag":["Computer-Network","wireshark","DNS"],"categories":["练习","计算机网络"],"math":true,"mermaid":true,"date":"2023-03-17T00:00:00.000Z","description":" Run nslookup to obtain the IP address of a Web server in Asia. What is the IP address of that server? Run nslookup to determine the authoritative DNS servers for a university i...","head":[["meta",{"property":"og:url","content":"https://Dnullp.github.io/posts/network/works-projects/wireShark-3.html"}],["meta",{"property":"og:site_name","content":"Dnull's Blog"}],["meta",{"property":"og:title","content":"wireshark practice 3 - DNS"}],["meta",{"property":"og:description","content":" Run nslookup to obtain the IP address of a Web server in Asia. What is the IP address of that server? Run nslookup to determine the authoritative DNS servers for a university i..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-14T13:35:40.000Z"}],["meta",{"property":"article:author","content":"Dnull"}],["meta",{"property":"article:tag","content":"Computer-Network"}],["meta",{"property":"article:tag","content":"wireshark"}],["meta",{"property":"article:tag","content":"DNS"}],["meta",{"property":"article:published_time","content":"2023-03-17T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-14T13:35:40.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"wireshark practice 3 - DNS\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-03-17T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-14T13:35:40.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Dnull\\",\\"url\\":\\"https://Dnullp.github.io\\"}]}"]]},"headers":[],"git":{"createdTime":1712936892000,"updatedTime":1713101740000,"contributors":[{"name":"DnullP","email":"dnull123p@gmail.com","commits":2}]},"readingTime":{"minutes":2.56,"words":767},"filePathRelative":"posts/network/works-projects/wireShark-3.md","localizedDate":"2023年3月17日","excerpt":"<ol>\\n<li>Run nslookup to obtain the IP address of a Web server in Asia. What is the IP address of that server?</li>\\n</ol>\\n<div class=\\"language-text\\" data-ext=\\"text\\" data-title=\\"text\\"><pre class=\\"language-text\\"><code>nslookup www.baidu.com\\nServer:  UnKnown\\nAddress:  10.3.9.44\\n\\nNon-authoritative answer:\\nName:    www.a.shifen.com\\nAddresses:  39.156.66.14\\n          39.156.66.18\\nAliases:  www.baidu.com\\n</code></pre></div>","autoDesc":true}`);export{v as comp,m as data};
