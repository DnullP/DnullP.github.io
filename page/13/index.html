<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Dnull_P Welcome~</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="A BUPTer( awlful)">
<meta property="og:type" content="website">
<meta property="og:title" content="Dnull_P Welcome~">
<meta property="og:url" content="https://dnullp.github.io/page/13/index.html">
<meta property="og:site_name" content="Dnull_P Welcome~">
<meta property="og:description" content="A BUPTer( awlful)">
<meta property="og:locale">
<meta property="article:author" content="Dnull_P">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Dnull_P Welcome~" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Dnull_P Welcome~</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Suche"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://DnullP.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-operating-system/CH3-fileSystem" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/21/operating-system/CH3-fileSystem/" class="article-date">
  <time class="dt-published" datetime="2023-05-20T16:00:00.000Z" itemprop="datePublished">2023-05-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>►<a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Three-Easy-Pieces/">Three-Easy-Pieces</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/21/operating-system/CH3-fileSystem/">文件系统的实现</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>文件系统中的主要要素在一篇Linux的文件指令中已经提及差不多了, 主要就是<code>inode</code>的查询和维护, <code>block</code>的分配和对应</p>
<p>下面主要介绍一些文件系统中会用到的实现方案</p>
<hr>
<h1 id="一个简单的文件系统结构"><a href="#一个简单的文件系统结构" class="headerlink" title="一个简单的文件系统结构"></a>一个简单的文件系统结构</h1><table>
<thead>
<tr>
<th align="center">bitmap</th>
<th align="center">inode</th>
<th align="center">data</th>
</tr>
</thead>
</table>
<p>我们将文件系统分为三个大部分:</p>
<ul>
<li>bitmap: 通过位的方式标记block的占用情况</li>
<li>inode: 储存文件, 文件夹, 软链接的元数据’</li>
<li>data: 储存文件的实际数据</li>
</ul>
<p>所谓block为块, 是文件系统中分割硬盘大小的基本单位, 现在的文件系统一般为<code>4096kb</code></p>
<p>磁盘上的数据位置被抽象为了物理地址, 因此现在一般不用考虑如何通过<code>磁道, 扇区, 盘号</code>来定位数据, 而直接使用类似于内存地址的方式来寻找block</p>
<p>我们现在如果有一个文件的路径<code>/home/bar/foo</code>, 我们可以模拟一下系统是如何找到这个文件的:</p>
<ol>
<li>首先读取根目录的inode, 读取inode中的数据, 找到<code>home</code>的inode位置</li>
<li>修改<code>root</code>的incode的最近访问时间等信息</li>
<li>读取<code>home</code>的inode, 找到<code>bar</code>的inode位置, 修改<code>home</code>的inode的最近访问时间等信息</li>
<li>读取<code>bar</code>的inode, 找到<code>foo</code>的inode位置, 修改<code>bar</code>的inode的最近访问时间等信息</li>
<li>读取<code>foo</code>的inode, 找到<code>foo</code>的数据位置, 修改<code>foo</code>的inode的最近访问时间等信息</li>
<li>读取<code>foo</code>的数据, 修改<code>foo</code>的inode的最近访问时间等信息</li>
</ol>
<p>上面的操作中一共读取了5次磁盘, 4次是在读取<code>inode</code>, 如果文件夹中的文件数目过多, 单个block大小的<code>incode</code>容纳不下, 那么还可能需要在<code>data</code>区中为文件夹分配区域, 于是又要多一层从文件夹<code>inode</code>到<code>data</code>的读取</p>
<p>如果是创建文件的话, 磁盘的读取和修改次数会更多, 因为写文件的同时除了要不停读取维护<code>inode</code>的信息, 还要读取维护<code>bitmap</code>的信息, 这样的话读写量又翻了一倍</p>
<p>虽然效率低, 但是这确实是一个比较完善的文件系统</p>
<h1 id="FFS"><a href="#FFS" class="headerlink" title="FFS"></a>FFS</h1><p>这是一个比较完善的文件系统, 也是现在大多数文件系统的基础, 其中对于上述问题的优化方式仍然值得借鉴</p>
<h2 id="基于磁盘原理的优化"><a href="#基于磁盘原理的优化" class="headerlink" title="基于磁盘原理的优化"></a>基于磁盘原理的优化</h2><p>我们读取一个文件时, 会先读取<code>inode</code>, 然后再读取对应的<code>data block</code>, 如果两个数据在磁盘上相隔较远的话, 会产生额外的寻道时间, 降低效率</p>
<p>FFS优化的第一个思路就是基于磁盘的寻道原理, 将磁盘分为一个个<strong>柱面(cylinder)</strong>, 然后将连续的柱面编组, 然后将同一个文件的<code>block</code>或者同一个目录下的相关<code>block</code>放在一个柱面组中</p>
<p>最上面的盘面包含了文件系统的元数据, 下面的盘面依次包含<code>bitmap</code>, <code>inode</code>, <code>data</code>, 于是我们查询了一个<code>inode</code>后, 往往不需要寻道, 而是简单的更换读取的磁头即可</p>
<p>这种优化方式我们可以总结为<strong>优化文件系统的局部性</strong></p>
<p>局部性原理在计算机的数据读取中常常提到, 可以参考CSAPP</p>
<h1 id="文件检查和修复"><a href="#文件检查和修复" class="headerlink" title="文件检查和修复"></a>文件检查和修复</h1><p>由于各种各样的原因, 在文件系统中可能发生一系列的错误, 可能是<code>bitmap</code>部分发生错误, 也可能是<code>inode</code>部分发生错误, 也可能是<code>data</code>部分发生错误</p>
<p>这时候我们需要对文件系统进行检查和修复, 一般的检查和修复的方式是通过<code>fsck</code>指令, 但是这个指令的执行时间可能会很长, 因为它需要对整个文件系统进行扫描, 一般的文件系统都会在启动时自动执行<code>fsck</code>指令</p>
<p>对于<code>bitmap</code>和<code>inode</code>部分正确, 但是<code>data</code>部分错误的情况, 文件系统可以建立自洽的<code>inode</code>和<code>bitmap</code>信息, 只不过对应的文件中的信息就损坏了, 我们称为<strong>垃圾数据</strong></p>
<p>如果<code>bitmap</code>和<code>inode</code>其中一个部分错误, 那么文件系统就会处理这种错误, 可以考虑根据<code>inode</code>的信息恢复<code>bitmap</code>的信息, 或者根据<code>bitmap</code>的信息恢复<code>inode</code>的信息, 也可以根据情况直接将错误的<code>inode</code>删除, 并重建新的<code>bitmap</code></p>
<h2 id="日志文件系统"><a href="#日志文件系统" class="headerlink" title="日志文件系统"></a>日志文件系统</h2><p>日志的概念来源于数据库软件, 用于记录数据库的操作, 以便在数据库发生错误时进行恢复</p>
<p>在文件系统中使用日志机制, 可以分为两种: </p>
<ul>
<li>数据日志</li>
<li>元数据日志</li>
</ul>
<p>在我们执行一个写的文件操作前, 我们需要先在磁盘的日志区域写入本次操作的信息, 包括了<code>bitmap</code>, <code>inode</code>, <code>data</code>的修改信息, 然后再执行实际的写操作, 这样的话, 如果写操作失败, 我们可以根据日志信息进行恢复</p>
<p>写入日志的格式如下:</p>
<table>
<thead>
<tr>
<th>TxB</th>
<th>I[v2]</th>
<th>B[v2]</th>
<th>D</th>
<th>TxE</th>
</tr>
</thead>
</table>
<p>前后俩个为单条日志的表示, 中间分别是<code>inode</code>, <code>bitmap</code>, <code>data</code>的数据</p>
<p>这里的流程我们总结为两步:</p>
<ul>
<li>写入日志(write journaling)</li>
<li>写入数据(checkpoint)</li>
</ul>
<p>为了提高写入日志的速度, 我们使用并行来写入这五个不同的内容<br>但是这产生一个新问题, 如果在写入日志的过程中, 系统崩溃了, 而<code>TxB</code>和<code>TxE</code>成功写入, 其他部分没有完成写入, 那么文件系统在恢复时就会使用错误的日志信息进行恢复</p>
<p>对此我们有以下解决方式:</p>
<ul>
<li>给日志加入<strong>校验和</strong>机制来保证日志的正确性</li>
<li>对前面的<code>TxB</code>, <code>I[v2]</code>, <code>B[v2]</code>, <code>D</code>进行并行写入作为一个事务, 然后再写入<code>TxE</code>作为事务的结束标志</li>
</ul>
<p>以上是数据日志的大概方式, 而元数据(metadata)的日志方式则是去除了<code>data</code>部分, 只保留文件的信息部分</p>
<p>此外还要考虑日志数据的回收, 最后我们得到数据日志的流程:</p>
<ul>
<li>Journal write: 写入前四个部分的日志</li>
<li>Journal commit: 写入<code>TxE</code>作为事务的结束标志</li>
<li>Checkpoint: 将数据写入磁盘</li>
<li>Journal recycle: 回收过期的日志</li>
</ul>
<hr>
<p>相比于数据日志, 元数据日志的性能消耗更少, 并且只提供文件信息的恢复, 不恢复丢失的数据</p>
<p>所以我们要保证其记录的元数据的信息符合对应的数据: 如果一个<code>data</code>未完成写操作, 但是元数据的日志已经记录了, 那么恢复时文件就会得到错误的元数据(写操作成功后的数据)</p>
<p>所以数据的写入需要在元数据的修改之前, 于是我们得到以下流程:</p>
<ul>
<li>data write: 写入数据, 等待完成</li>
<li>Journal write: 写入元数据的日志</li>
<li>Journal commit: 写入<code>TxE</code>作为事务的结束标志</li>
<li>Checkpoint: 将元数据写入磁盘</li>
<li>Journal recycle: 回收过期的日志</li>
</ul>
<p>元数据的数量远少于数据的数量, 所以元数据日志的性能消耗更少, 一般是用来记录用户对数据的操作, 而不是用于数据的恢复备份</p>
<h1 id="Log-structured-File-System"><a href="#Log-structured-File-System" class="headerlink" title="Log-structured File System"></a>Log-structured File System</h1><p>日志结构文件系统可以带入版本控制的思想, 其大概实现如下:</p>
<p>当一个<code>data block</code>被修改时, 我们不会直接修改原来的<code>data block</code>, 而是在一块新的空间中写入新的<code>data block</code>, 然后通过”指针”将新旧数据连接起来, 当我们需要读取时, 就会从最开始的块开始, 向前寻找最新版本的数据, 然后优化指针结构(更新指针)</p>
<p>当然, 为了优化速度, 我们会在缓存(内存)中先暂存这些数据, 等到积累了一定的数据后, 一次性写入这些数据, 由于这样的写入是顺序写入, 所以需要消耗的更少的寻找时间</p>
<p>并且由于每次写入的数据相对整个磁盘空间较小, 对应的<code>bitmap</code>, <code>inode</code>, <code>data</code>的位置也相对较近, 完全可以结合FFS的优化一起使用</p>
<p>这种文件系统需要注意的主要就是指针的更新, 以及数据的回收</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dnullp.github.io/2023/05/21/operating-system/CH3-fileSystem/" data-id="clkwkwshc0092k8uv79fjasrf" data-title="文件系统的实现" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/concurrency/" rel="tag">concurrency</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/operating-system/" rel="tag">operating-system</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-operating-system/CH3-linuxFileCommand" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/20/operating-system/CH3-linuxFileCommand/" class="article-date">
  <time class="dt-published" datetime="2023-05-19T16:00:00.000Z" itemprop="datePublished">2023-05-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>►<a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Three-Easy-Pieces/">Three-Easy-Pieces</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/20/operating-system/CH3-linuxFileCommand/">Linux文件命令</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="文件系统中的三个要素"><a href="#文件系统中的三个要素" class="headerlink" title="文件系统中的三个要素"></a>文件系统中的三个要素</h1><ul>
<li>文件</li>
<li>文件夹</li>
<li>软连接</li>
</ul>
<p>我们可以通过stat命令查看文件的详细信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">stat</span> calc</span><br><span class="line">  File: calc</span><br><span class="line">  Size: 4096            Blocks: 0          IO Block: 4096   directory</span><br><span class="line">Device: 50h/80d Inode: 14918173766102459  Links: 1</span><br><span class="line">Access: (0777/drwxrwxrwx)  Uid: ( 1000/   dnull)   Gid: ( 1000/   dnull)</span><br><span class="line">Access: 2023-05-20 13:08:53.499645400 +0800</span><br><span class="line">Modify: 2023-05-03 20:31:58.232250800 +0800</span><br><span class="line">Change: 2023-05-03 20:31:58.232250800 +0800</span><br><span class="line"> Birth: -</span><br></pre></td></tr></table></figure>

<p>可以发现, 这是大小为4096kb大小的文件夹, 有一个链接, 有读写执行权限, 创建于2023年5月3日, 修改于2023年5月3日</p>
<p>文件和文件夹都很容易理解, 软连接一般而言讨论较少</p>
<h2 id="软链接-soft-link-和硬链接-hard-link"><a href="#软链接-soft-link-和硬链接-hard-link" class="headerlink" title="软链接(soft link)和硬链接(hard link)"></a>软链接(soft link)和硬链接(hard link)</h2><h3 id="硬链接"><a href="#硬链接" class="headerlink" title="硬链接"></a>硬链接</h3><p>我们可以使用指令<code>ln src target</code>来创建硬链接, 创建的硬链接相当于一个文件的别名</p>
<p>我们创建的文件实际上是储存在硬盘上, 通过inode来储存文件或文件夹的信息, 我们寻找一个文件都是通过寻找到指定的inode后, 在通过inode中的硬盘地址来获得数据的</p>
<p>而硬链接相当于对于一个文件, 建立了一个新的inode, 两个inode指向相同的位置, 此时我们可以通过两个inode来访问同一个文件, 但是硬链接不能跨文件系统, 也就是说硬链接不能跨硬盘</p>
<p>当我们为一个文件创建了硬链接后, 文件的link数目就会增加, 表示有多少个inode指向这个文件, 当link数目为0时, 文件就会被删除<br>所以说我们删除一个文件时, 删除的只是这个文件的inode, 文件在硬盘中仍然存在, 只有在需要的时候, 硬盘才会将没有引用的数据删除</p>
<h3 id="软链接"><a href="#软链接" class="headerlink" title="软链接"></a>软链接</h3><p>我们可以用<code>ln -s src target</code>来创建软链接, 软链接相当于一个快捷方式, 保存了文件的绝对路径或相对路径, 所以软链接的大小由路径长度决定</p>
<p>软链接并不会增加引用数, 所以当源文件删除后, 软链接就会失效</p>
<h2 id="创建和读写文件"><a href="#创建和读写文件" class="headerlink" title="创建和读写文件"></a>创建和读写文件</h2><p>创建文件有很多指令可以使用, 但是具体到系统层面的话, 其实都是调用了<code>open()</code>的系统调用, 比如我们可以用<code>strace</code>指令来跟踪一个进程的系统调用:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">strace <span class="built_in">cat</span> ans.txt</span><br><span class="line">execve(<span class="string">&quot;/usr/bin/cat&quot;</span>, [<span class="string">&quot;cat&quot;</span>, <span class="string">&quot;ans.txt&quot;</span>], 0x7ffd820abd98 /* 24 vars */) = 0</span><br><span class="line">brk(NULL)                               = 0x55994fa81000</span><br><span class="line">arch_prctl(0x3001 /* ARCH_??? */, 0x7ffcb848ae30) = -1 EINVAL (Invalid argument)</span><br><span class="line">mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f377e104000</span><br><span class="line">access(<span class="string">&quot;/etc/ld.so.preload&quot;</span>, R_OK)      = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/etc/ld.so.cache&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=52955, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 52955, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377e0f7000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/lib/x86_64-linux-gnu/libc.so.6&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line"><span class="built_in">read</span>(3, <span class="string">&quot;\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0P\237\2\0\0\0\0\0&quot;</span>..., 832) = 832</span><br><span class="line">pread64(3, <span class="string">&quot;\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0&quot;</span>..., 784, 64) = 784</span><br><span class="line">pread64(3, <span class="string">&quot;\4\0\0\0 \0\0\0\5\0\0\0GNU\0\2\0\0\300\4\0\0\0\3\0\0\0\0\0\0\0&quot;</span>..., 48, 848) = 48</span><br><span class="line">pread64(3, <span class="string">&quot;\4\0\0\0\24\0\0\0\3\0\0\0GNU\0i8\235HZ\227\223\333\350s\360\352,\223\340.&quot;</span>..., 68, 896) = 68</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=2216304, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">pread64(3, <span class="string">&quot;\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0&quot;</span>..., 784, 64) = 784</span><br><span class="line">mmap(NULL, 2260560, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f377decf000</span><br><span class="line">mmap(0x7f377def7000, 1658880, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x28000) = 0x7f377def7000</span><br><span class="line">mmap(0x7f377e08c000, 360448, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1bd000) = 0x7f377e08c000</span><br><span class="line">mmap(0x7f377e0e4000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x214000) = 0x7f377e0e4000</span><br><span class="line">mmap(0x7f377e0ea000, 52816, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f377e0ea000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">mmap(NULL, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f377decc000</span><br><span class="line">arch_prctl(ARCH_SET_FS, 0x7f377decc740) = 0</span><br><span class="line">set_tid_address(0x7f377decca10)         = 86</span><br><span class="line">set_robust_list(0x7f377decca20, 24)     = 0</span><br><span class="line">rseq(0x7f377decd0e0, 0x20, 0, 0x53053053) = 0</span><br><span class="line">mprotect(0x7f377e0e4000, 16384, PROT_READ) = 0</span><br><span class="line">mprotect(0x55994df3a000, 4096, PROT_READ) = 0</span><br><span class="line">mprotect(0x7f377e13e000, 8192, PROT_READ) = 0</span><br><span class="line">prlimit64(0, RLIMIT_STACK, NULL, &#123;rlim_cur=8192*1024, rlim_max=RLIM64_INFINITY&#125;) = 0</span><br><span class="line">munmap(0x7f377e0f7000, 52955)           = 0</span><br><span class="line">getrandom(<span class="string">&quot;\x0a\x0d\x6a\x29\x8e\x1d\xb1\x4c&quot;</span>, 8, GRND_NONBLOCK) = 8</span><br><span class="line">brk(NULL)                               = 0x55994fa81000</span><br><span class="line">brk(0x55994faa2000)                     = 0x55994faa2000</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/locale-archive&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/share/locale/locale.alias&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=2996, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line"><span class="built_in">read</span>(3, <span class="string">&quot;# Locale name alias data base.\n#&quot;</span>..., 4096) = 2996</span><br><span class="line"><span class="built_in">read</span>(3, <span class="string">&quot;&quot;</span>, 4096)                       = 0</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_IDENTIFICATION&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_IDENTIFICATION&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=258, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 258, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377e13d000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/x86_64-linux-gnu/gconv/gconv-modules.cache&quot;</span>, O_RDONLY) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=27002, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 27002, PROT_READ, MAP_SHARED, 3, 0) = 0x7f377e0fd000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">futex(0x7f377e0e9a6c, FUTEX_WAKE_PRIVATE, 2147483647) = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_MEASUREMENT&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_MEASUREMENT&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=23, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 23, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377e0fc000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_TELEPHONE&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_TELEPHONE&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=47, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 47, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377e0fb000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_ADDRESS&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_ADDRESS&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=127, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 127, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377e0fa000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_NAME&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_NAME&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=62, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 62, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377e0f9000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_PAPER&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_PAPER&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=34, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 34, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377e0f8000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_MESSAGES&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_MESSAGES&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFDIR|0755, st_size=4096, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_MESSAGES/SYS_LC_MESSAGES&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=48, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 48, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377e0f7000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_MONETARY&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_MONETARY&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=270, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 270, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377decb000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_COLLATE&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_COLLATE&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=1406, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 1406, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377deca000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_TIME&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_TIME&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=3360, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 3360, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377dec9000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_NUMERIC&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_NUMERIC&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=50, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 50, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377dec8000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.UTF-8/LC_CTYPE&quot;</span>, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;/usr/lib/locale/C.utf8/LC_CTYPE&quot;</span>, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0644, st_size=353616, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">mmap(NULL, 353616, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f377de71000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">newfstatat(1, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFCHR|0620, st_rdev=makedev(0x88, 0x7), ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">openat(AT_FDCWD, <span class="string">&quot;ans.txt&quot;</span>, O_RDONLY)   = 3</span><br><span class="line">newfstatat(3, <span class="string">&quot;&quot;</span>, &#123;st_mode=S_IFREG|0777, st_size=6, ...&#125;, AT_EMPTY_PATH) = 0</span><br><span class="line">fadvise64(3, 0, 0, POSIX_FADV_SEQUENTIAL) = 0</span><br><span class="line">mmap(NULL, 139264, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f377de4f000</span><br><span class="line"><span class="built_in">read</span>(3, <span class="string">&quot;hello\n&quot;</span>, 131072)              = 6</span><br><span class="line">write(1, <span class="string">&quot;hello\n&quot;</span>, 6hello</span><br><span class="line">)                  = 6</span><br><span class="line"><span class="built_in">read</span>(3, <span class="string">&quot;&quot;</span>, 131072)                     = 0</span><br><span class="line">munmap(0x7f377de4f000, 139264)          = 0</span><br><span class="line">close(3)                                = 0</span><br><span class="line">close(1)                                = 0</span><br><span class="line">close(2)                                = 0</span><br><span class="line">exit_group(0)                           = ?</span><br></pre></td></tr></table></figure>

<p>上面的指令打开了<code>ans.txt</code>文件，然后读取文件内容，最后输出到标准输出</p>
<p>我们可以从中提取出关键的几个调用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">openat(AT_FDCWD, <span class="string">&quot;ans.txt&quot;</span>, O_RDONLY)   = 3</span><br><span class="line"><span class="built_in">read</span>(3, <span class="string">&quot;hello\n&quot;</span>, 131072)              = 6</span><br><span class="line">write(1, <span class="string">&quot;hello\n&quot;</span>, 6hello</span><br><span class="line">)                  = 6</span><br><span class="line"><span class="built_in">read</span>(3, <span class="string">&quot;&quot;</span>, 131072)                     = 0</span><br></pre></td></tr></table></figure>

<p>可以看见, <code>openat</code>函数打开了<code>ans.txt</code>文件，然后<code>read</code>函数读取了文件内容，最后<code>write</code>函数将内容输出到标准输出</p>
<p>其中<code>openat</code>函数的返回值<code>3</code>表示该文件描述符的值为3</p>
<h3 id="文件描述符"><a href="#文件描述符" class="headerlink" title="文件描述符"></a>文件描述符</h3><p>文件描述符是每个进程独有的, 用来表示打开的文件的标志</p>
<p>标准输入输出也被视作了文件, 所以文件描述符<code>1</code> <code>2</code>都已经被占用了, 所以<code>openat</code>函数返回的文件描述符为<code>3</code></p>
<p>然后<code>read(3, &quot;hello\n&quot;, 131072)</code>函数读取长度为<code>131072</code>的内容到缓冲区中, 这里直接将缓冲区的内容展示出来了</p>
<p>然后<code>write(1, &quot;hello\n&quot;, 6hello)</code>函数将缓冲区的内容输出到标准输出</p>
<p>这里是文件描述符的基本使用</p>
<h3 id="文件的数据结构"><a href="#文件的数据结构" class="headerlink" title="文件的数据结构"></a>文件的数据结构</h3><p>对于一个打开的文件, 进程会使用一个数据结构来维护文件的相关信息, 不同的系统使用的结构各有不同, 以下是书上提到的关于xv6的文件结构:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">file</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> ref;</span><br><span class="line">    <span class="type">char</span> readable;</span><br><span class="line">    <span class="type">char</span> writable;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">inode</span> *<span class="title">ip</span>;</span></span><br><span class="line">    uint off;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>其中的<code>off</code>表示当前读取的位置, 进程会维护这个位置, 每次读取后会自动更新到读取的位置</p>
<p>此外我们还有一个相关的系统调用:<br><code>lseek(int fd, int offset, int whence)</code></p>
<p>这个调用能够将当前文件的位置移动到<code>offset</code>对应位置, 其中<code>whence</code>表示相对位置, 有三个值:</p>
<ul>
<li><code>SEEK_SET</code> 从文件开头开始</li>
<li><code>SEEK_CUR</code> 从当前位置开始</li>
<li><code>SEEK_END</code> 从文件结尾开始</li>
</ul>
<p>此外, 进程会使用一个文件表来维护所有打开的文件</p>
<p>特别的, 一个进程的子进程产生时, 会复制父进程的文件表, 也就是说子进程可以继承父进程打开的文件</p>
<hr>
<h3 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h3><p>包含若干文件, 文件夹, 和软链接的一起管理的集合, 我们称为文件系统</p>
<p>我们可以把一个磁盘分为多个区域, 每个区域都是独立的文件系统来管理</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dnullp.github.io/2023/05/20/operating-system/CH3-linuxFileCommand/" data-id="clkwkwshd0097k8uv8mc25u2e" data-title="Linux文件命令" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/concurrency/" rel="tag">concurrency</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/operating-system/" rel="tag">operating-system</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-operating-system/CH2-Samephore" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/18/operating-system/CH2-Samephore/" class="article-date">
  <time class="dt-published" datetime="2023-05-17T16:00:00.000Z" itemprop="datePublished">2023-05-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>►<a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Three-Easy-Pieces/">Three-Easy-Pieces</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/18/operating-system/CH2-Samephore/">信号量</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>信号量是我最喜欢的计算机科学家之一: Edsger Dijkstra 发明的一种同步机制, 用于解决多线程的同步问题</p>
<hr>
<p>信号量可以看作互斥锁的超集, 互斥锁只有两种状态: 锁住和未锁住, 而信号量可以有多种状态, 用于解决更复杂的同步问题</p>
<h2 id="信号量的定义"><a href="#信号量的定义" class="headerlink" title="信号量的定义"></a>信号量的定义</h2><p>我们实现互斥锁时, 用一个变量储存0或1来表示锁的状态, 当锁为0时则说明锁住了</p>
<p>而信号量在此基础上, 可以有0, 1, 2, 3, …等多种状态, 每当一个线程获取锁时, 信号量的值减一, 当信号量的值为0 (或小于0) 时, 说明锁住了, 此时其他线程获取锁时, 会阻塞</p>
<p>当一个线程完成了critical section中的操作后, 会将信号量的值加一, 并向所有阻塞的线程发出信号, 通知它们可以继续执行了</p>
<p>当然, 我们将阻塞的线程加入一个等待队列中, 直接从中选取一个线程来继续执行, 而不用让这些线程来”争抢”信号量的资源</p>
<p>这个队列中的线程我们就可以按照之前的进程调度中介绍过的方法来安排调度了: 包括了<strong>优先级调度</strong>, <strong>FIFO</strong>等</p>
<h2 id="信号量的使用"><a href="#信号量的使用" class="headerlink" title="信号量的使用"></a>信号量的使用</h2><p>下面是C语言中的信号量使用:<br>声明与初始化:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">sem_t</span> s;</span><br><span class="line">sem_init(&amp;s, <span class="number">0</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>int sem_init(sem_t *sem, int pshared, unsigned int value);</code><ul>
<li>第一个参数是信号量变量</li>
<li>第二个参数是进程间的共享标志, 如果为0则在当前线程中使用, 如果为其他参数则可以在不同进程中按照参数值进行共享</li>
<li>第三个参数是信号量的初始值</li>
</ul>
</li>
</ul>
<p>所以信号量也可以用于进程之间的通信</p>
<p>P操作:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sem_wait(&amp;s);</span><br></pre></td></tr></table></figure>
<ul>
<li>这个操作使信号量的值减一, 如果信号量的值小于0, 则阻塞当前线程</li>
</ul>
<p>V操作:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sem_post(&amp;s);</span><br></pre></td></tr></table></figure>
<ul>
<li>这个操作使信号量的值加一, 并向所有阻塞的线程发出信号, 通知它们可以继续执行了</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dnullp.github.io/2023/05/18/operating-system/CH2-Samephore/" data-id="clkwkwshb008xk8uv38235m4r" data-title="信号量" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/concurrency/" rel="tag">concurrency</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/operating-system/" rel="tag">operating-system</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-operating-system/CH2-Condition-Varible" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/18/operating-system/CH2-Condition-Varible/" class="article-date">
  <time class="dt-published" datetime="2023-05-17T16:00:00.000Z" itemprop="datePublished">2023-05-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>►<a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Three-Easy-Pieces/">Three-Easy-Pieces</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/18/operating-system/CH2-Condition-Varible/">Condition Varible</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="条件变量-Condition-Varible"><a href="#条件变量-Condition-Varible" class="headerlink" title="条件变量(Condition Varible)"></a>条件变量(Condition Varible)</h1><p>在介绍条件变量前, 我们先来对多线程的资源共享问题做一个形象化的解释:</p>
<p>每一个线程就是一个工人, 每个资源就是一个加工产品, 当一个工人对一个产品进行加工时, 其他工人是不能对其进行加工的, 所以需要所谓<strong>锁</strong>来告诉其他线程: “这个资源正在被使用”</p>
<p>这个需要锁住的资源不一定是某个文件, 而是critical section(临界区)</p>
<p>于是互斥锁为我们实现了这个功能</p>
<p>现在我们要考虑的新问题是:</p>
<p><code>如果这个产品的加工必须按照某个顺序进行, 应该如何实现?</code></p>
<p>这个时候我们就要用到条件变量了</p>
<h2 id="什么是条件变量"><a href="#什么是条件变量" class="headerlink" title="什么是条件变量?"></a>什么是条件变量?</h2><p>条件变量是一个全局变量, 用于记录一个条件是否满足的状态<br>当我们的线程进行到critical section中需要顺序执行的部分时, 会检查这个条件是否满足, 如果满足, 则继续执行, 否则线程会阻塞, 释放锁, 等待条件变量的状态改变</p>
<p>然后此时其他的线程在改变了条件变量的状态后, 会通知这个线程, 这个线程就会重新获得锁, 并验证状态是否满足条件, 如果满足, 则继续执行, 否则继续阻塞</p>
<h2 id="在C中使用条件变量"><a href="#在C中使用条件变量" class="headerlink" title="在C中使用条件变量"></a>在C中使用条件变量</h2><p>在C语言中, 为了使用条件变量, 我们需要三个部分:</p>
<ul>
<li>一个变量</li>
<li>一个互斥锁</li>
<li>一个条件变量</li>
</ul>
<p>声明:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">pthread_mutex_t</span> m = PTHREAD_MUTEX_INITIALIZER;</span><br><span class="line"><span class="type">pthread_cond_t</span> c = PTHREAD_COND_INITIALIZER;</span><br><span class="line"><span class="type">int</span> done = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>现在我们的线程进入到了critical section:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pthread_mutex_lock(&amp;m);</span><br><span class="line"><span class="keyword">while</span> (!done) &#123;</span><br><span class="line">    pthread_cond_wait(&amp;c, &amp;m);</span><br><span class="line">&#125;</span><br><span class="line">pthread_mutex_unlock(&amp;m);</span><br></pre></td></tr></table></figure>
<p><code> pthread_cond_wait(&amp;c, &amp;m);</code>会自动释放锁, 并阻塞线程, 直到条件变量的状态改变, 然后重新获得锁</p>
<p>然后是其他线程改变这个变量时, 需要发出信号告诉阻塞的线程, 条件变量的状态已经改变了:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pthread_mutex_lock(&amp;m);</span><br><span class="line">done = <span class="number">1</span>;</span><br><span class="line">pthread_cond_signal(&amp;c);</span><br><span class="line">pthread_mutex_unlock(&amp;m);</span><br></pre></td></tr></table></figure>

<p>以上便是条件变量的</p>
<p>好像就完了? 比想象得写得少</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dnullp.github.io/2023/05/18/operating-system/CH2-Condition-Varible/" data-id="clkwkwshc008zk8uv1usw5mku" data-title="Condition Varible" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/concurrency/" rel="tag">concurrency</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/operating-system/" rel="tag">operating-system</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-operating-system/CH2-some-error" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/18/operating-system/CH2-some-error/" class="article-date">
  <time class="dt-published" datetime="2023-05-17T16:00:00.000Z" itemprop="datePublished">2023-05-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>►<a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Three-Easy-Pieces/">Three-Easy-Pieces</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/18/operating-system/CH2-some-error/">一些常见的多线程错误</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>OSTEP上将多线程错误主要分为两类, 一类是死锁错误, 一类是非死锁错误</p>
<h2 id="死锁错误"><a href="#死锁错误" class="headerlink" title="死锁错误"></a>死锁错误</h2><p>死锁错误在多线程错误中占据了大多数</p>
<p>引发死锁需要同时满足以下四个条件:</p>
<ul>
<li>线程之间互斥访问资源</li>
<li>线程在访问资源时, 自己拥有其他资源</li>
<li>线程拥有的资源不能被强制剥夺</li>
<li>线程需要的资源是满足以上三个条件的线程已经拥有的资源</li>
</ul>
<p>也就是说, 只要解决以上四个条件之一都无法发生死锁错误</p>
<p>一般而言, 线程之间互斥是必须的, 我们可以从其他三个条件入手</p>
<ol>
<li><p>对于条件3, 2</p>
<ul>
<li>我们可以给线程设置一个最大等待时间, 如果超过这个时间还没有获取到资源, 则放弃这个资源, 释放已经获取的资源, 重新开始</li>
</ul>
</li>
<li><p>对于条件2, 4</p>
<ul>
<li>我们需要设置一个资源的固定申请顺序, 避免两个线程之间的申请顺序形成一个交叉, 从而导致死锁</li>
</ul>
</li>
</ol>
<h2 id="非死锁错误"><a href="#非死锁错误" class="headerlink" title="非死锁错误"></a>非死锁错误</h2><p>非死锁错误包括:</p>
<ul>
<li><p>原子性错误<br>举个简单的例子:<br>假设现在我们有一个基于条件变量的阻塞线程, 有且只有另一个唯一的线程能够将条件状态更改到可以让它继续执行的状态, 但是该线程有可能被假唤醒<br>如果条件状态的修改和信号发出不是原子性的话, 那么可能出现以下问题:<br>线程被假唤醒后, 检查了条件没有满足, 即将释放锁进入阻塞, 而在此时, 条件状态被修改, 信号发出, 但是此时目标线程还没有进入阻塞, 导致信号丢失, 从而导致目标线程永远无法被唤醒<br>这也是我们的条件变量需要搭配一个互斥锁使用的原因, 这个互斥锁就是在维护这一部分的原子性</p>
</li>
<li><p>顺序执行错误<br>这里的顺序并不是指申请资源的顺序导致的死锁, 而是如果没有使用条件变量, 可能导致的顺序执行错误</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dnullp.github.io/2023/05/18/operating-system/CH2-some-error/" data-id="clkwkwshd0093k8uvhxk91e2t" data-title="一些常见的多线程错误" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/concurrency/" rel="tag">concurrency</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/operating-system/" rel="tag">operating-system</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-compiler/CH5-SDD" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/15/compiler/CH5-SDD/" class="article-date">
  <time class="dt-published" datetime="2023-05-14T16:00:00.000Z" itemprop="datePublished">2023-05-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/compiler/">compiler</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/15/compiler/CH5-SDD/">语法制导翻译</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>关键词记录与解释</p>
<hr>
<h2 id="synthesized-and-inherited-attributes"><a href="#synthesized-and-inherited-attributes" class="headerlink" title="synthesized and inherited attributes"></a>synthesized and inherited attributes</h2><ul>
<li><p>synthesized attributes:<br>综合属性<br>由产生式的右部向左部传递的属性, 体现在解析树上, 该属性需要从下向上传递计算</p>
</li>
<li><p>inherited attributes:<br>继承属性<br>由产生式的左部向右部传递的属性, 体现在解析树上, 该属性需要从上向下传递计算</p>
</li>
</ul>
<p>需要注意的是, 继承属性除了允许父节点的属性对其进行计算外, 还允许<strong>兄弟节点</strong>进行计算</p>
<h2 id="S-attributed-and-L-attributed-definitions"><a href="#S-attributed-and-L-attributed-definitions" class="headerlink" title="S-attributed and L-attributed definitions"></a>S-attributed and L-attributed definitions</h2><ul>
<li><p>S-attributed definitions:<br>综合属性定义<br>SSD的所有属性都是synthesized attributes, 我们则称其为S-attributed<br>对于这种语法SSD, 我们可以使用任意的Bottom-Up方法进行解析翻译</p>
</li>
<li><p>L-attributed definitions:<br>继承属性定义<br>除了synthesized attributes外, 还有inherited attributes, 我们称其为L-attributed, 但是这种定义的inherited attributes是有限制的, 具体限制如下:</p>
<ul>
<li>假如文法存在产生式$A \rightarrow \alpha B C D $</li>
<li>对于$C$的属性$C.val$, 只能由父节点$A$的属性或者左侧的兄弟节点$B$的属性计算得到, 而<strong>不能</strong>有右侧的兄弟节点$D$的属性计算得到</li>
</ul>
<p>所以L代表的是$Lfet$左的意思, 属性的计算只能从左至右, 或者上下进行</p>
</li>
</ul>
<p>对于这样存在的计算关系, 我们需要有一个计算的顺序依赖, 我们用依赖树来表示, 其本质是一个拓扑序</p>
<h2 id="Cyclic-Defnitions"><a href="#Cyclic-Defnitions" class="headerlink" title="Cyclic Defnitions"></a>Cyclic Defnitions</h2><p>在SDD中, 存在相互依赖的计算, 形成了依赖环</p>
<h2 id="Notated-Syntax-Trees"><a href="#Notated-Syntax-Trees" class="headerlink" title="Notated Syntax Trees"></a>Notated Syntax Trees</h2><p>带有属性计算的具体语法树, 用于表示属性计算的顺序和依赖</p>
<h2 id="side-effects"><a href="#side-effects" class="headerlink" title="side effects"></a>side effects</h2><p>副作用表示的是属性计算以外的操作, 包括了符号表的建立, 中间代码的输出等</p>
<p>需要注意的是, 我们计算属性可能存在许多个计算顺序, 但是考虑到副作用会受到计算顺序的影响, 我们需要从两个方面来控制副作用:</p>
<ul>
<li>对于不受计算顺序影响的副作用, 我们可以任意使用</li>
<li>通过规则来限制计算顺序, 使得每次解析都能得到相同的结果</li>
</ul>
<h2 id="SDT-Syntax-Directed-Translation-Schemes"><a href="#SDT-Syntax-Directed-Translation-Schemes" class="headerlink" title="SDT(Syntax-Directed Translation Schemes)"></a>SDT(Syntax-Directed Translation Schemes)</h2><p>语法翻译制导方案, 其与SDD的区别在于:</p>
<ul>
<li>SDD描述的是抽象, 高级层面的语义的计算方式</li>
<li>SDT是具体的计算方式, 直接用代码描述</li>
</ul>
<h2 id="record"><a href="#record" class="headerlink" title="record"></a>record</h2><p>对于S属性的SDD计算, 所有的属性都是综合属性, 所以我们只需要在读取了一个非终结符或终结符的后面进行计算即可:</p>
<ul>
<li>表现在SDT上, 相当于在产生式的最右边添加动作</li>
</ul>
<p>对于L属性的SDD计算, 具有了继承属性, 但是由于继承属性满足从左至右计算的顺序, 所以我们可以将继承属性的计算动作放在对应的产生式项目的左边, 像下面一样:</p>
<table>
<thead>
<tr>
<th align="center">A.h &#x3D; xxx</th>
<th align="center">A</th>
<th align="center">A.s &#x3D; xxx</th>
</tr>
</thead>
</table>
<p>在栈中保存对应的动作, 并在解析到动作位置时执行, 这样的动作我们称为继承记录或综合记录</p>
<p>此外, 对于任何可以自顶向下解析的SDD, 我们都可以将其文法转换为自底向上解析:</p>
<ul>
<li>将其中的所有动作换为一个标识<br>$A \rightarrow  {B.h &#x3D; f(A.i)}B  C $<br>替换为<br>$A \rightarrow  M B C $<br>$M \rightarrow {M.i&#x3D;A.i, B.h &#x3D; f(M.i)}$<br>对于M的读空, 我们特别安排一下栈, 使其能够直接读取到A的属性, 从而实现自底向上</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dnullp.github.io/2023/05/15/compiler/CH5-SDD/" data-id="clkwkwsga0035k8uv1txf8fkv" data-title="语法制导翻译" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/" rel="tag">中间代码生成</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81/" rel="tag">代码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">编译原理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">词法分析</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/" rel="tag">语义分析</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">语法分析</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-compiler/CH4-yacc-and-lex" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/03/compiler/CH4-yacc-and-lex/" class="article-date">
  <time class="dt-published" datetime="2023-05-02T16:00:00.000Z" itemprop="datePublished">2023-05-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/compiler/">compiler</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/03/compiler/CH4-yacc-and-lex/">Yacc和Lex的基本使用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前置准备"><a href="#前置准备" class="headerlink" title="前置准备"></a>前置准备</h1><ul>
<li>Yacc: parser的生成器</li>
<li>Lex: scanner的生成器</li>
</ul>
<p>在Ubuntu环境下安装对应的<code>bsion</code>和<code>flex</code></p>
<h1 id="基本格式"><a href="#基本格式" class="headerlink" title="基本格式"></a>基本格式</h1><h2 id="Flex"><a href="#Flex" class="headerlink" title="Flex"></a>Flex</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">%&#123;</span><br><span class="line">#include &quot;y.tab.h&quot;</span><br><span class="line">letter [a-zA-Z]</span><br><span class="line">digit [0-9]</span><br><span class="line">word &#123;letter&#125;(&#123;letter&#125;|&#123;digit&#125;)*</span><br><span class="line">%&#125;</span><br><span class="line"></span><br><span class="line">%%</span><br><span class="line">[0-9]+          &#123; yylval = atoi(yytext); return T_NUM; &#125;</span><br><span class="line">[-/+*()\n]      &#123; return yytext[0]; &#125;</span><br><span class="line">[ \t\n]         ;</span><br><span class="line">.               &#123; yyerror(&quot;Unknown character&quot;); &#125;</span><br><span class="line">%%</span><br><span class="line"></span><br><span class="line">int yywrap(void) &#123; </span><br><span class="line">    return 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如上<code>%%</code>将程序分为三个区域:</p>
<ul>
<li>第一个区域是声明, 包括了头文件的声明和正则定义</li>
<li>第二个区域是词法分析规则</li>
<li>第三个区域是辅助函数</li>
</ul>
<p>通过<code>%&#123;</code>和<code>%&#125;</code>括起来的部分会原封不动的复制到生成的<code>lex.yy.c</code>中, 一般用于包含头文件<br>正则定义使用一般通用的正则表达式语法, 但是也包括了一些扩展语法, 比较常用的有:</p>
<ul>
<li><code>r/s</code>: 当后面跟着的是<code>s</code>时, 才返回<code>r</code></li>
<li><code>&#123;&#125;</code>: 用花括号括起一个class, 可以表示一个正则表达式的名字</li>
<li><code>()</code>: 括号用于规定优先级</li>
<li><code>&quot;&quot;</code>: 表示字符串的匹配</li>
<li><code>&#39;&#39;</code>: 表示字符的匹配, 特殊字符可以用<code>\</code>转义, 也可以用<code>&#39;</code>括起来</li>
</ul>
<p>在词法分析区的后面是对应的lexeme匹配后, 进行的动作</p>
<ul>
<li><code>yylval</code>代表这个token的属性参数, 是一个全局变量, 在parser调用<code>yylex()</code>返回token后压入栈中, 供parser使用</li>
<li><code>yytext</code>代表目前匹配到的字符串</li>
<li><code>yywarp()</code>是在读取完当前文件后, 是否继续读取下一个文件, 一般返回1表示结束</li>
</ul>
<h2 id="Bsion"><a href="#Bsion" class="headerlink" title="Bsion"></a>Bsion</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">%&#123;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">void yyerror(const char* msg) &#123;&#125;</span><br><span class="line">%&#125;</span><br><span class="line"></span><br><span class="line">%token T_NUM</span><br><span class="line"></span><br><span class="line">%left &#x27;+&#x27; &#x27;-&#x27;</span><br><span class="line">%left &#x27;*&#x27; &#x27;/&#x27;</span><br><span class="line"></span><br><span class="line">%%</span><br><span class="line"></span><br><span class="line">S   :   S E &#x27;\n&#x27;        &#123; printf(&quot;ans = %d\n&quot;, $2); &#125;</span><br><span class="line">    |   /* empty */     &#123; /* empty */ &#125;</span><br><span class="line">    ;</span><br><span class="line"></span><br><span class="line">E   :   E &#x27;+&#x27; E         &#123; $$ = $1 + $3; &#125;</span><br><span class="line">    |   E &#x27;-&#x27; E         &#123; $$ = $1 - $3; &#125;</span><br><span class="line">    |   E &#x27;*&#x27; E         &#123; $$ = $1 * $3; &#125;</span><br><span class="line">    |   E &#x27;/&#x27; E         &#123; $$ = $1 / $3; &#125;</span><br><span class="line">    |   T_NUM           &#123; $$ = $1; &#125;</span><br><span class="line">    |   &#x27;(&#x27; E &#x27;)&#x27;       &#123; $$ = $2; &#125;</span><br><span class="line">    ;</span><br><span class="line"></span><br><span class="line">%%</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    return yyparse();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>yacc也通过<code>%%</code>划分为了三个区域:</p>
<ul>
<li>声明区域</li>
<li>规则区域</li>
<li>辅助函数区域</li>
</ul>
<p>之前的词法分析中用到的<code>yyerror()</code>定义在此处了, 同时还包括了头文件的声明</p>
<ul>
<li>%token: 声明一个语法单元, 词法翻译器中的返回值即为语法分析器中定义的token, 如果有<code>yylval</code>的话, 会将<code>yylval</code>加入语法分析的栈中</li>
<li>$$表示产生式左边的句型的属性变量, $1表示产生式右边第一个语法单元的属性变量, $2表示第二个, 以此类推, 这些属性变量就是<code>yylval</code>绑定的值</li>
</ul>
<h3 id="解决二义性"><a href="#解决二义性" class="headerlink" title="解决二义性"></a>解决二义性</h3><p><code>%left</code>和<code>%right</code>用于解决二义性, 优先级高的放在前面, 优先级低的放在后面</p>
<p>left表示左结合, right表示右结合</p>
<p>通过向前读1符号, 可以解决一些二义性情况, 如果仍然无法判断, 则可以通过<code>%prec</code>来指定优先级</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">%left &#x27;+&#x27; &#x27;-&#x27;</span><br><span class="line">%left &#x27;*&#x27; &#x27;/&#x27;</span><br><span class="line">%left UMINUS</span><br><span class="line"></span><br><span class="line">%%</span><br><span class="line"></span><br><span class="line">E   :   E &#x27;+&#x27; E         &#123; $$ = $1 + $3; &#125;</span><br><span class="line">    |   E &#x27;-&#x27; E         &#123; $$ = $1 - $3; &#125;</span><br><span class="line">    |   E &#x27;*&#x27; E         &#123; $$ = $1 * $3; &#125;</span><br><span class="line">    |   E &#x27;/&#x27; E         &#123; $$ = $1 / $3; &#125;</span><br><span class="line">    |   &#x27;-&#x27; E %prec UMINUS &#123; $$ = -$2; &#125;</span><br><span class="line">    |   T_NUM           &#123; $$ = $1; &#125;</span><br><span class="line">    |   &#x27;(&#x27; E &#x27;)&#x27;       &#123; $$ = $2; &#125;</span><br><span class="line">    ;</span><br></pre></td></tr></table></figure>
<p>这里为<code>E -&gt; &#39;-&#39; E</code>这个产生式指定了优先级, 使得<code>-</code>的优先级比<code>+</code>和<code>-</code>高(靠后的优先级高)</p>
<p>如果不加入对负号的优先级设定, 则会产生以下的移入-归约冲突(其中一个例子):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Example: &#x27;-&#x27; E • &#x27;+&#x27; E</span><br><span class="line">  Shift derivation</span><br><span class="line">    E</span><br><span class="line">    ↳ 8: &#x27;-&#x27; E</span><br><span class="line">             ↳ 3: E • &#x27;+&#x27; E</span><br><span class="line">  Reduce derivation</span><br><span class="line">    E</span><br><span class="line">    ↳ 3: E            &#x27;+&#x27; E</span><br><span class="line">         ↳ 8: &#x27;-&#x27; E •</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dnullp.github.io/2023/05/03/compiler/CH4-yacc-and-lex/" data-id="clkwkwsg6002kk8uv2jmd2qv5" data-title="Yacc和Lex的基本使用" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/" rel="tag">中间代码生成</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81/" rel="tag">代码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">编译原理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">词法分析</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/" rel="tag">语义分析</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">语法分析</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-compiler/CH4-Bottom-Up-Parse" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/27/compiler/CH4-Bottom-Up-Parse/" class="article-date">
  <time class="dt-published" datetime="2023-04-26T16:00:00.000Z" itemprop="datePublished">2023-04-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/compiler/">compiler</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/27/compiler/CH4-Bottom-Up-Parse/">编译原理-自底向上解析</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="几个关键词"><a href="#几个关键词" class="headerlink" title="几个关键词"></a>几个关键词</h2><h3 id="shift-reduce-parser"><a href="#shift-reduce-parser" class="headerlink" title="shift-reduce parser"></a>shift-reduce parser</h3><p>移入-归约解析器, 具体步骤也是维护一个栈, 依次将输入推入栈中, 然后当栈中解析到<strong>句柄(Handle)</strong> 时, 进行归约操作</p>
<h3 id="Handle"><a href="#Handle" class="headerlink" title="Handle"></a>Handle</h3><p>句柄, 是解析树中最左父子关系的全部叶节点</p>
<p>为了描述清楚这个概念, 我们先解释<strong>短语(Phrase)<strong>和</strong>直接短语(Direct Phrase)</strong></p>
<p>这是一棵解析树:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    S --&gt; E</span><br><span class="line">    E --&gt; T</span><br><span class="line">    E --&gt; E&#x27;&#x27;</span><br><span class="line">    E --&gt; E&#x27;</span><br><span class="line">    E&#x27; --&gt; id3</span><br><span class="line">    E&#x27;&#x27; --&gt; +</span><br><span class="line">    T --&gt; id1</span><br><span class="line">    T --&gt; T&#x27;</span><br><span class="line">    T&#x27; --&gt; *</span><br><span class="line">    T&#x27; --&gt; id2</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<ul>
<li><p>在这个这个解析树表示的句子是<code>id3 + id1 * id2</code>, 其中的任意从左到右的叶子都是一个<strong>短语</strong>, 比如<code>id3 + id1 * id2</code>本身或者<code>id1 * id2</code><br>我们也可以用<strong>树结构</strong>来解释: 所有叶节点都是non-terminal的树, 我们称之为一个<strong>短语</strong></p>
</li>
<li><p>其中, 只拥有<strong>父子节点关系</strong>的短语我们称为直接短语, 比如<code>* id2</code>是一个直接短语, <code>id3</code>是一个直接短语, <code>id1</code>所在的子树由于和<code>* id2</code>之间有<code>T</code>节点, 产生了gap, 所以不是直接短语</p>
</li>
<li><p>在这些直接短语中, 最左边的直接短语被称为<strong>句柄(Handle)</strong> , 所以上图的句柄为<code>id3</code></p>
</li>
</ul>
<h3 id="LR-0"><a href="#LR-0" class="headerlink" title="LR(0)"></a>LR(0)</h3><p>假设现在我们有一个文法:<br>$$<br>\begin{aligned}<br>S &amp;\rightarrow E\<br>E &amp;\rightarrow E + T\<br>E &amp;\rightarrow T\<br>T &amp;\rightarrow T * F\<br>T &amp;\rightarrow F\<br>F &amp;\rightarrow (E)\<br>F &amp;\rightarrow id<br>\end{aligned}<br>$$</p>
<p>我们构建其<strong>增广文法(Augmented Grammar)</strong>:<br>$$<br>\begin{aligned}<br>S’ &amp;\rightarrow S\<br>S &amp;\rightarrow E\<br>E &amp;\rightarrow E + T\<br>E &amp;\rightarrow T\<br>T &amp;\rightarrow T * F\<br>T &amp;\rightarrow F\<br>F &amp;\rightarrow (E)\<br>F &amp;\rightarrow id<br>\end{aligned}<br>$$</p>
<h4 id="Items"><a href="#Items" class="headerlink" title="Items"></a>Items</h4><p>LR(0)文法的状态机的状态我们用Items(项目)来表示, 一个项目是一个产生式, 许多个项目组成产生式集, 产生式集构成状态机的状态</p>
<p>我们先设定一个初始的0状态:<br>$$<br>\begin{aligned}<br>S’ &amp;\rightarrow \cdot S\<br>S &amp;\rightarrow \cdot E\<br>E &amp;\rightarrow \cdot E + T\<br>E &amp;\rightarrow \cdot T\<br>T &amp;\rightarrow \cdot T * F\<br>T &amp;\rightarrow \cdot F\<br>F &amp;\rightarrow \cdot (E)\<br>F &amp;\rightarrow \cdot id<br>\end{aligned}<br>$$<br>这里的$\cdot$表示<strong>点(dot)</strong>, 代表了我们读取到的位置, 前面表示已经读取到的终结符或句型, 后面表示接下来希望读到的东西</p>
<p>0状态的构建逻辑为: 以$S’\rightarrow S$为基础, 在dot之后紧接的非终结符将其的产生式加入其中, 所以添加了$S\rightarrow \cdot E$以及后续的一系列产生式</p>
<p>然后针对每个项目, 我们为其构造一个转移状态, 以$E \rightarrow \cdot E + T$为例:</p>
<p>我们构造一个新的状态(项目集), 编号为1, 如下:</p>
<p>$$<br>\begin{aligned}<br>E &amp;\rightarrow E \cdot + T\<br>\end{aligned}<br>$$<br>由于点后是个终结符, 所以不需要添加额外的推导项目, 如果是由$F \rightarrow \cdot( E)$读取 $($ 后转移到状态2, 那么状态2中则需要添加的条目为: $F \rightarrow (\cdot E )$, 以及所有可以通过点后的非终结式推导得到: $E \rightarrow \cdot E + T$ 和 $E \rightarrow \cdot T$ 进而还有 $T \rightarrow \cdot T * F$ 和 $T \rightarrow \cdot F$ 以及 $F \rightarrow \cdot (E)$ 和 $F \rightarrow \cdot id$</p>
<p>但是所有这些通过推导添加的项目我们都称为<strong>非核心项目(non-kernel-item)</strong>, 而$F \rightarrow (\cdot E )$称为<strong>核心项目(kernel-item)</strong></p>
<p>这样, 我们可以构建出一个由项目集做状态的自动机来, 类似于以下的形式:<br><img src="/image/compiler/3.png"></p>
<p>然后以下的状态机我们可以构造为一张语法分析表:</p>
<p><img src="/image/compiler/4.png"></p>
<p>具体构造方式如下:</p>
<ul>
<li>首先计算出每个句型的FOLLOW集, 比如 $FOLLOW(T) &#x3D; {*,(,id}$</li>
<li>然后对于每一个状态, 对应了表中的每一行, 对于该状态的每一个读取句型(非终结符)的转移, 我们通过GOTO表来保存</li>
<li>如果是读取终结符的转移, 我们在ACTION中对应符号处记录<code>si</code>, 表示转移到状态i</li>
<li>如果某个项目的dot在最右端, 那么我们为其FOLLOW集中的对应符号添加ACTION <code>rj</code>, 代表按照第j个产生式进行归约(这里没有列出产生式, 但是可以通过状态转移图略知)</li>
</ul>
<p>有了这个图就可以判断如何对句子进行归约了</p>
<hr>
<h3 id="LR-1"><a href="#LR-1" class="headerlink" title="LR(1)"></a>LR(1)</h3><p>将0改为了1, 表示向后多读一个字符, 当执行归约操作时, 只有多读的这个字符满足了条件才会进行归约</p>
<p>比如对于下面的项目:<br>$$<br>\begin{aligned}<br>E &amp;\rightarrow E  + T\cdot , id\<br>\end{aligned}<br>$$<br>表示只有当向后读取的输入是一个id时, 才会进行归约</p>
<p>需要注意的是, 我们之前移动dot的操作和推导全部非核心项目(即求闭包)的过程有些改变:<br>现在我们移动dot获得新项目时需要考虑向后读取字符的变化, 具体的改变方式如下:</p>
<ul>
<li>首先我们记住一个项目规范格式:<br>$$<br>  A \rightarrow \alpha \cdot B \beta, a<br>$$</li>
<li>对于以上的标准项目, 我们得到他的下一个项目$A \rightarrow \alpha B \cdot \beta, x$<br>其中的向后读的内容需要改变, 这里用$x$来代替</li>
<li>我们需要求出$FIRST(\beta a)$, 然后用这个集合中的每一个字符来代替$x$, 从而得到若干新的项目</li>
</ul>
<hr>
<h2 id="viable-prefix-可行前缀"><a href="#viable-prefix-可行前缀" class="headerlink" title="viable prefix(可行前缀)"></a>viable prefix(可行前缀)</h2><p>可行前缀反应到解析的栈中, 就是整个过程中栈的每一个状态, 也就是不会归约的最长串</p>
<p>反应到状态转移图中就是每一条路径</p>
<h2 id="valid-item-有效项目"><a href="#valid-item-有效项目" class="headerlink" title="valid item(有效项目)"></a>valid item(有效项目)</h2><p>当项目的dot左方的串等于一个可行前缀时, 该项目就是有效项目</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dnullp.github.io/2023/04/27/compiler/CH4-Bottom-Up-Parse/" data-id="clkwkwsg5002fk8uvbikldf8j" data-title="编译原理-自底向上解析" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/" rel="tag">中间代码生成</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81/" rel="tag">代码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">编译原理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">词法分析</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/" rel="tag">语义分析</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">语法分析</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-compiler/CH4-Top-Down-Parse" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/27/compiler/CH4-Top-Down-Parse/" class="article-date">
  <time class="dt-published" datetime="2023-04-26T16:00:00.000Z" itemprop="datePublished">2023-04-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/compiler/">compiler</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/27/compiler/CH4-Top-Down-Parse/">编译原理-自顶向下解析</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="自顶向下解析"><a href="#自顶向下解析" class="headerlink" title="自顶向下解析"></a>自顶向下解析</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>所谓自顶向下解析, 就是从语法树的最上层开始, 向下推导出目标的语言</p>
<p>比如我们有以下语法:<br>$$<br>S \rightarrow E\<br>E \rightarrow TE’\<br>E’ \rightarrow +TE’ | \epsilon\<br>T \rightarrow FT’\<br>T’ \rightarrow *FT’ | \epsilon\<br>F \rightarrow (E) | id<br>$$<br>我们可以逐步推导出<code>id + id * id</code>这样的语句:<br>$$<br>\begin{aligned}<br>S &amp;\rightarrow E \<br>  &amp;\rightarrow TE’\<br>  &amp;\rightarrow FT’E’\<br>    &amp;\rightarrow idT’E’\<br>    &amp;\rightarrow id + TE’\<br>    &amp;\rightarrow id + FT’E’\<br>    &amp;\rightarrow id + idT’E’\<br>    &amp;\rightarrow id + id * FT’\<br>    &amp;\rightarrow id + id * id<br>\end{aligned}<br>$$<br>这个过程其实就是在自动机理论中学的PDA, 我们有一个栈来维护自上而下的推导, 同时读取新的输入, 每个输入和栈顶元素会有不同的”动作”</p>
<p>在详细描述推导过程中如何选择产生式前, 我们先看一下递归下降法</p>
<h2 id="递归下降法"><a href="#递归下降法" class="headerlink" title="递归下降法"></a>递归下降法</h2><p>我们对每一个产生式构建一个函数, 比如:<br>$$E’ \rightarrow +TE’ | \epsilon$$<br>我们可以构建以下函数:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">E_</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (lookahead == <span class="string">&#x27;+&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">match</span>(<span class="string">&#x27;+&#x27;</span>);</span><br><span class="line">        <span class="built_in">T</span>();</span><br><span class="line">        <span class="built_in">E_</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>而对于$$E \rightarrow TE’\$$, 我们可以构建以下函数:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">E</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">T</span>();</span><br><span class="line">    <span class="built_in">E_</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中的<code>match</code>表示当前匹配了一个字符的输入, 进行相应的操作并读取下一个字符输入</p>
<p>通过这种一层套一层的函数调用, 我们可以完成对一段输入的解析, 在第二章中的简易翻译程序中, 我们也是通过这种方式来完成的</p>
<p>这其实也是PDA所做的事情, 每一层的调用就相当于进行了一次栈的变化</p>
<ul>
<li>有时候可能会发生调用到一定位置后, 无法继续解析的情况, 需要回溯到某一步重新解析, 此时需要从新扫描之前的输入. 很明显我们这里的代码是不支持回溯的, 而是也很少有代码解析需要用到回溯机制, 所以我们需要设计能够线性读取解析的文法</li>
</ul>
<p>对于这样不需要回溯就能够解析完成的文法, 我们称为<strong>LL(1)文法</strong></p>
<p>首先, 对于<strong>左递归</strong>的文法和<strong>二义性</strong>的文法肯定不是LL(1)文法, 所以我们在设计文法时应该消除文法中的左递归, 并尽量减少二义性</p>
<h3 id="First集和Follow集"><a href="#First集和Follow集" class="headerlink" title="First集和Follow集"></a>First集和Follow集</h3><p>我们对First集和Follow集的定义如下:</p>
<ul>
<li>First(E): 对于非终结符E, 其推导式中可以出现的第一个终结符的集合</li>
<li>Follow(E): 对于非终结符E, 在其之后可能紧跟的终结符的集合</li>
</ul>
<p>对于First我们很容易求得, 至于求Follow的话, 有以下三种情况:</p>
<ul>
<li>$Follow(S)$中自然包含结束符号$$$, $S$为开始符号</li>
<li>如果有产生式$A \rightarrow \alpha B \beta$, 那么$First(\beta)$中的所有元素都在$Follow(B)$中</li>
<li>如果有产生式$A \rightarrow \alpha B$, 或者$A \rightarrow \alpha B \beta$, 且$First(\beta)$包含$\epsilon$, 那么$Follow(A)$中的所有元素都在$Follow(B)$中</li>
</ul>
<p>通过这两个集合我们可以构建出类似下图的预测分析表:<br><img src="/image/compiler/1.png" alt="预测分析表"><br>当一个各自中出现两个产生式时, 这个文法就产生了二义性, 我们可以通过提取左公因子, 消除左递归等方式来尽量避免二义性, 但是有些文法本身就无法消除二义性, 比如产生的如下预测分析表:</p>
<p><img src="/image/compiler/2.png" alt="预测分析表"></p>
<p>不过这个文法我们可以选择其中的$S \rightarrow eS$作为保留的产生式, 以此来消除二义性</p>
<h3 id="使用栈来模拟"><a href="#使用栈来模拟" class="headerlink" title="使用栈来模拟"></a>使用栈来模拟</h3><p>我们之前就提到了PDA, 递归下降法我们自然可以通过一个带有栈的PDA来模拟, 详细内容就不说明了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dnullp.github.io/2023/04/27/compiler/CH4-Top-Down-Parse/" data-id="clkwkwsg6002hk8uvfz0q2j58" data-title="编译原理-自顶向下解析" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/" rel="tag">中间代码生成</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81/" rel="tag">代码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">编译原理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">词法分析</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/" rel="tag">语义分析</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">语法分析</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-compiler/CH4-note" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/27/compiler/CH4-note/" class="article-date">
  <time class="dt-published" datetime="2023-04-26T16:00:00.000Z" itemprop="datePublished">2023-04-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/compiler/">compiler</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/27/compiler/CH4-note/">编译原理-语法解析</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="关键词记录解释"><a href="#关键词记录解释" class="headerlink" title="关键词记录解释"></a>关键词记录解释</h2><h3 id="Bottom-up-parse-Top-down-parse"><a href="#Bottom-up-parse-Top-down-parse" class="headerlink" title="Bottom-up-parse, Top-down-parse"></a>Bottom-up-parse, Top-down-parse</h3><ul>
<li><p>Bottom-up-parse<br>自底向上的解析, 从最小的语法单元开始解析, 直到解析到最大的语法单元, 使用右线性文法的语言适合使用Bottom-up-parse</p>
</li>
<li><p>Top-down-parse<br>自顶向下的解析, 从最大的语法单元开始解析, 直到解析到最小的语法单元, 使用左线性文法的语言适合使用Top-down-parse, 需要避免左递归</p>
</li>
</ul>
<h3 id="Error-type"><a href="#Error-type" class="headerlink" title="Error type"></a>Error type</h3><ul>
<li>Lexical error<br>词法错误, 例如<code>int a = 10;</code>中的<code>int</code>写成了<code>intt</code></li>
<li>Syntactic error<br>语法错误, 例如<code>case</code>缺少对应的<code>switch</code>, <code>else</code>缺少对应的<code>if</code></li>
<li>Semantic error<br>语义错误, 例如需要返回<code>int</code>类型的函数返回了<code>string</code>类型的值, 并且没有支持的隐式转换(implicit conversion)</li>
<li>Logical error<br>逻辑错误, 例如<code>a = a + 1</code>写成了<code>a = a - 1</code>或者<code>a == 10</code>写成了<code>a = 10</code>, 这些错误并不会导致程序无法运行, 但是会使得程序偏离预期的结果</li>
</ul>
<h3 id="viable-prefix-property"><a href="#viable-prefix-property" class="headerlink" title="viable-prefix property"></a>viable-prefix property</h3><p>可行前缀性, 我们的Lexical analyzer产生了一传的token stream给parser, parser可以接收流并进行解析, 在遇到错误时直接处理, 而不用等到所有的Token都解析完毕<br>也就是说我们可以根据语言的前缀来判定解析的可行性, 这样的流式处理也能很好的利用计算资源</p>
<p>但是只有语法解析(Syntactic analysis)可以利用可行前缀性, 语义解析则往往需要向后解析许多后才能确定错误</p>
<h3 id="语法解析需要提供的"><a href="#语法解析需要提供的" class="headerlink" title="语法解析需要提供的"></a>语法解析需要提供的</h3><ul>
<li><p>report the error presence<br>  报告错误的存在, 一般定位到产生错误的行和列</p>
</li>
<li><p>recover from the error<br>  从错误中恢复, 并继续解析, 以便发现后续的错误</p>
</li>
<li><p>尽量优化程序解析的效率</p>
</li>
</ul>
<h3 id="如何从错误中恢复"><a href="#如何从错误中恢复" class="headerlink" title="如何从错误中恢复"></a>如何从错误中恢复</h3><ul>
<li><p>panic mode recovery<br>恐慌模式恢复, 当遇到错误时, 丢弃当前的token, 直到遇到一个同步符号, 然后继续解析, 例如<code>int a = 10;</code>中的<code>int</code>写成了<code>intt</code>, 那么我们会丢弃<code>intt</code>直到遇到<code>;</code>为止, 然后继续解析</p>
</li>
<li><p>phrase-level recovery<br>编译器会尝试修复一些简单的错误, 比如缺少<code>;</code>之类的, 会自动补上这些符号, 然后继续解析</p>
</li>
<li><p>Error productions<br>编译器的设计人员在编译器中加入了一些常见错误语法的产生式, 并执行相应的错误反馈, 比如在python中输入了<code>;</code>在statement的结尾, 就会告诉你<code>python的结尾不需要;</code>, 这样解析并不会陷入错误, 然后继续解析</p>
</li>
<li><p>Global correction<br>编译器尝试寻找一个最接近源代码的, 可以正确解析的代码, 尽管这样的代码并不是程序员想要的, 但是可以提供一个修改代码的评估</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dnullp.github.io/2023/04/27/compiler/CH4-note/" data-id="clkwkwsg8002rk8uv68y87anv" data-title="编译原理-语法解析" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/" rel="tag">中间代码生成</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81/" rel="tag">代码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">编译原理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">词法分析</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/" rel="tag">语义分析</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">语法分析</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/12/">&laquo; zurück</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/14/">weiter &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Kategorien</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">C#学习记录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">C++学习记录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CFT%E9%A2%98%E7%9B%AE%E9%9A%8F%E7%AC%94/">CFT题目随笔</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSAPP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">CSAPP学习笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode%E7%BB%83%E4%B9%A0/">LeetCode练习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Matlab%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">Matlab学习记录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OI%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">OI算法和数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OI%E7%BB%83%E4%B9%A0/">OI练习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Qt%E5%AD%A6%E4%B9%A0/">Qt学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/compiler/">compiler</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/golang/">golang</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B9%90%E7%90%86/">乐理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BF%A1%E5%8F%B7%E4%B8%8E%E7%B3%BB%E7%BB%9F/">信号与系统</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8F%8D%E6%80%9D/">反思</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8F%8D%E6%80%9D/%E7%AC%94%E8%AE%B0/">笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8F%8D%E6%80%9D/%E7%AC%94%E8%AE%B0/%E7%BF%BB%E8%AF%91/">翻译</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BD%A2%E5%BC%8F%E8%AF%AD%E8%A8%80%E4%B8%8E%E8%87%AA%E5%8A%A8%E6%9C%BA/">形式语言与自动机</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">微信小程序</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/">思维导图</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Three-Easy-Pieces/">Three-Easy-Pieces</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/">数学基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BB%83%E4%B9%A0/">练习</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BB%83%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2/">计算机图形</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/">语言学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BE%E7%A8%8B%E5%A4%8D%E4%B9%A0/">课程复习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9A%8F%E7%AC%94/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/">编译原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9A%8F%E7%AC%94/%E8%AF%BB%E5%90%8E%E6%84%9F/">读后感</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/" rel="tag">API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bellman-ford/" rel="tag">Bellman-ford</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" rel="tag">C++学习记录</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CMatlab/" rel="tag">CMatlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CTF/" rel="tag">CTF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">C计算机网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DNS/" rel="tag">DNS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DP/" rel="tag">DP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EM%E7%AE%97%E6%B3%95/" rel="tag">EM算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HMM/" rel="tag">HMM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/" rel="tag">IO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kruskal/" rel="tag">Kruskal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LCA/" rel="tag">LCA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">Lambda表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Leetcode/" rel="tag">Leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OI/" rel="tag">OI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Prim/" rel="tag">Prim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Qt/" rel="tag">Qt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SCIM/" rel="tag">SCIM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SG%E5%87%BD%E6%95%B0/" rel="tag">SG函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SPFA/" rel="tag">SPFA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/STL/" rel="tag">STL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ST%E8%A1%A8/" rel="tag">ST表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SVM/" rel="tag">SVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Stride-Scheduling/" rel="tag">Stride Scheduling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP/" rel="tag">TCP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tarjan/" rel="tag">Tarjan</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Three-Easy-Pieces/" rel="tag">Three-Easy-Pieces</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UNIX/" rel="tag">UNIX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VAX-VMS/" rel="tag">VAX&#x2F;VMS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/" rel="tag">c#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/concurrency/" rel="tag">concurrency</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/convolution/" rel="tag">convolution</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cpu/" rel="tag">cpu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cpu%E5%8E%9F%E7%90%86/" rel="tag">cpu原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/data-structure/" rel="tag">data-structure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/decision-tree/" rel="tag">decision tree</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dijkstra/" rel="tag">dijkstra</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fourier-transform/" rel="tag">fourier transform</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/golang/" rel="tag">golang</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/machine-learning/" rel="tag">machine learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/" rel="tag">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mechine-learning/" rel="tag">mechine learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nim%E5%8D%9A%E5%BC%88/" rel="tag">nim博弈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/operating-system/" rel="tag">operating-system</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/perceptron/" rel="tag">perceptron</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/signal/" rel="tag">signal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/special-function/" rel="tag">special function</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/system/" rel="tag">system</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unity/" rel="tag">unity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/upload/" rel="tag">upload</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wireshark%E7%BB%83%E4%B9%A0/" rel="tag">wireshark练习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2/" rel="tag">上下文切换</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%8D%E7%AD%89%E5%BC%8F/" rel="tag">不等式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/" rel="tag">中间代码生成</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%BB%E5%AE%9A%E7%90%86/" rel="tag">主定理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B9%90%E7%90%86/" rel="tag">乐理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%88%86/" rel="tag">二分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%88%86%E5%9B%BE/" rel="tag">二分图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%8F%89%E5%A0%86/" rel="tag">二叉堆</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91/" rel="tag">二叉查找树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6/" rel="tag">二进制</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81/" rel="tag">代码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/" rel="tag">代码优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81%E8%83%BD%E5%8A%9B/" rel="tag">代码能力</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/" rel="tag">优先队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/" rel="tag">优化程序性能</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%B3%E8%81%94%E5%AE%B9%E5%99%A8/" rel="tag">关联容器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%85%E5%AD%98/" rel="tag">内存</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/" rel="tag">内存分配</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80/" rel="tag">内存地址</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4/" rel="tag">内存空间</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" rel="tag">内存管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%85%E5%AD%98%E8%99%9A%E6%8B%9F%E5%8C%96/" rel="tag">内存虚拟化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%96%E8%AF%91/" rel="tag">分布式编译</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E6%AF%94%E4%BE%8B%E8%B0%83%E5%BA%A6/" rel="tag">分比例调度</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E6%B2%BB/" rel="tag">分治</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E9%A1%B5/" rel="tag">分页</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" rel="tag">前缀和</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%B2%E7%82%B9/" rel="tag">割点</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98/" rel="tag">动态内存</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E7%94%BB/" rel="tag">动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8C%BA%E9%97%B4%E6%9C%80%E5%A4%A7%E5%80%BC/" rel="tag">区间最大值</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8C%BA%E9%97%B4%E6%9F%A5%E8%AF%A2/" rel="tag">区间查询</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8C%BA%E9%97%B4%E7%BB%B4%E6%8A%A4/" rel="tag">区间维护</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" rel="tag">博弈论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E8%AE%BA/" rel="tag">图论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9C%B0%E5%9B%BE%E7%94%9F%E6%88%90/" rel="tag">地图生成</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9C%B0%E5%9D%80%E7%BF%BB%E8%AF%91/" rel="tag">地址翻译</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E7%BA%A7%E5%8F%8D%E9%A6%88%E9%98%9F%E5%88%97/" rel="tag">多级反馈队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8/" rel="tag">容器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%AE%E5%88%86/" rel="tag">差分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%B4%E4%BB%80%E5%8D%9A%E5%BC%88/" rel="tag">巴什博弈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B3%E8%A1%A1%E6%A0%91/" rel="tag">平衡树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/" rel="tag">并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%82%E5%B8%B8%E6%8E%A7%E5%88%B6%E6%B5%81/" rel="tag">异常控制流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BD%A2%E5%BC%8F%E8%AF%AD%E8%A8%80/" rel="tag">形式语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BD%A9%E7%A5%A8%E8%B0%83%E5%BA%A6/" rel="tag">彩票调度</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">微信小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/" rel="tag">思维导图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%84%9F%E6%83%B3/" rel="tag">感想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag">操作系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%99%E5%AD%A6%E8%B5%84%E6%96%99/" rel="tag">教学资料</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E5%AD%A6/" rel="tag">数学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%86%E6%9E%90/" rel="tag">数据流分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E7%BB%84/" rel="tag">数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6/" rel="tag">文件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%94%BB%E5%87%BB/" rel="tag">文件上传攻击</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/" rel="tag">文件操作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A0%E5%BA%8F%E5%AE%B9%E5%99%A8/" rel="tag">无序容器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/" rel="tag">智能指针</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E5%A4%A7%E5%AD%97%E4%B8%B2%E5%92%8C/" rel="tag">最大字串和</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E5%A4%A7%E6%B5%81/" rel="tag">最大流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" rel="tag">最小生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/" rel="tag">最短路</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91/" rel="tag">树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E4%B8%8A%E5%80%8D%E5%A2%9E/" rel="tag">树上倍增</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E5%BD%A2%E6%95%B0%E7%BB%84/" rel="tag">树形数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/" rel="tag">树链剖分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A6%82%E7%8E%87%E8%AE%BA/" rel="tag">概率论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E6%9D%BF/" rel="tag">模板</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AE%B5%E5%BC%8F%E5%86%85%E5%AD%98/" rel="tag">段式内存</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AE%B5%E5%BC%8F%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" rel="tag">段式内存管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B1%87%E7%BC%96/" rel="tag">汇编</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%85%E6%8B%B7%E8%B4%9D/" rel="tag">浅拷贝</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E6%8B%B7%E8%B4%9D/" rel="tag">深拷贝</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B8%B2%E6%9F%93/" rel="tag">渲染</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B8%B8%E6%88%8F%E7%BC%96%E7%A8%8B/" rel="tag">游戏编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%B9%E6%80%A7/" rel="tag">特性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F/" rel="tag">直接运行程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9F%A9%E9%98%B5/" rel="tag">矩阵</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A2%8E%E7%89%87/" rel="tag">碎片</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" rel="tag">离散数学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A9%BA%E9%97%B2%E5%86%85%E5%AD%98/" rel="tag">空闲内存</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A9%BA%E9%97%B2%E9%93%BE%E8%A1%A8/" rel="tag">空闲链表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E6%80%A7/" rel="tag">线性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/" rel="tag">线段树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%A7%E6%89%BF/" rel="tag">继承</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A0%81/" rel="tag">编码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/" rel="tag">编码规范</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag">编程语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%AF%91/" rel="tag">编译</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">编译原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96/" rel="tag">编译器优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E6%B5%81/" rel="tag">网络流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E5%8A%A8%E6%9C%BA/" rel="tag">自动机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%B1%E8%AF%AD/" rel="tag">英语</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" rel="tag">虚拟化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2/" rel="tag">计算机图形</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%90%86%E8%AE%BA/" rel="tag">计算机理论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/" rel="tag">计算机系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">词法分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/" rel="tag">语义分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95/" rel="tag">语法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/" rel="tag">语法分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E8%A8%80/" rel="tag">语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95/" rel="tag">调度算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%AA%E5%BF%83/" rel="tag">贪心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BE%93%E5%85%A5%E6%B3%95/" rel="tag">输入法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9B%E7%A8%8B/" rel="tag">进程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6/" rel="tag">进程调度</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%93%BE%E6%8E%A5/" rel="tag">链接</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%86%E5%90%88/" rel="tag">集合</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/" rel="tag">静态分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" rel="tag">面向对象</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A1%B9%E7%9B%AE/" rel="tag">项目</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A1%BA%E5%BA%8F%E5%AE%B9%E5%99%A8/" rel="tag">顺序容器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A2%84%E5%A4%84%E7%90%86%E5%AE%8F/" rel="tag">预处理宏</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A2%84%E5%A4%84%E7%90%86%E6%8C%87%E4%BB%A4/" rel="tag">预处理指令</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/API/" style="font-size: 10px;">API</a> <a href="/tags/Bellman-ford/" style="font-size: 10px;">Bellman-ford</a> <a href="/tags/C/" style="font-size: 16.43px;">C++</a> <a href="/tags/C-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" style="font-size: 10px;">C++学习记录</a> <a href="/tags/CMatlab/" style="font-size: 10px;">CMatlab</a> <a href="/tags/CTF/" style="font-size: 10.71px;">CTF</a> <a href="/tags/C%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">C计算机网络</a> <a href="/tags/DNS/" style="font-size: 10.71px;">DNS</a> <a href="/tags/DP/" style="font-size: 10px;">DP</a> <a href="/tags/EM%E7%AE%97%E6%B3%95/" style="font-size: 10px;">EM算法</a> <a href="/tags/HMM/" style="font-size: 10px;">HMM</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/IO/" style="font-size: 10px;">IO</a> <a href="/tags/Kruskal/" style="font-size: 10px;">Kruskal</a> <a href="/tags/LCA/" style="font-size: 10px;">LCA</a> <a href="/tags/Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">Lambda表达式</a> <a href="/tags/Leetcode/" style="font-size: 10px;">Leetcode</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/OI/" style="font-size: 10px;">OI</a> <a href="/tags/Prim/" style="font-size: 10px;">Prim</a> <a href="/tags/Qt/" style="font-size: 10px;">Qt</a> <a href="/tags/SCIM/" style="font-size: 10px;">SCIM</a> <a href="/tags/SG%E5%87%BD%E6%95%B0/" style="font-size: 10px;">SG函数</a> <a href="/tags/SPFA/" style="font-size: 10px;">SPFA</a> <a href="/tags/STL/" style="font-size: 10px;">STL</a> <a href="/tags/ST%E8%A1%A8/" style="font-size: 10px;">ST表</a> <a href="/tags/SVM/" style="font-size: 10px;">SVM</a> <a href="/tags/Stride-Scheduling/" style="font-size: 10px;">Stride Scheduling</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/Tarjan/" style="font-size: 10.71px;">Tarjan</a> <a href="/tags/Three-Easy-Pieces/" style="font-size: 10px;">Three-Easy-Pieces</a> <a href="/tags/UNIX/" style="font-size: 10px;">UNIX</a> <a href="/tags/VAX-VMS/" style="font-size: 10px;">VAX/VMS</a> <a href="/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/tags/c/" style="font-size: 12.86px;">c#</a> <a href="/tags/concurrency/" style="font-size: 14.29px;">concurrency</a> <a href="/tags/convolution/" style="font-size: 10px;">convolution</a> <a href="/tags/cpu/" style="font-size: 10px;">cpu</a> <a href="/tags/cpu%E5%8E%9F%E7%90%86/" style="font-size: 10px;">cpu原理</a> <a href="/tags/data-structure/" style="font-size: 10px;">data-structure</a> <a href="/tags/decision-tree/" style="font-size: 10px;">decision tree</a> <a href="/tags/dijkstra/" style="font-size: 10px;">dijkstra</a> <a href="/tags/fourier-transform/" style="font-size: 10px;">fourier transform</a> <a href="/tags/golang/" style="font-size: 10.71px;">golang</a> <a href="/tags/linux/" style="font-size: 10.71px;">linux</a> <a href="/tags/machine-learning/" style="font-size: 10.71px;">machine learning</a> <a href="/tags/math/" style="font-size: 10.71px;">math</a> <a href="/tags/mechine-learning/" style="font-size: 10px;">mechine learning</a> <a href="/tags/nim%E5%8D%9A%E5%BC%88/" style="font-size: 10px;">nim博弈</a> <a href="/tags/operating-system/" style="font-size: 14.29px;">operating-system</a> <a href="/tags/perceptron/" style="font-size: 10px;">perceptron</a> <a href="/tags/signal/" style="font-size: 10.71px;">signal</a> <a href="/tags/special-function/" style="font-size: 10px;">special function</a> <a href="/tags/system/" style="font-size: 10.71px;">system</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a> <a href="/tags/unity/" style="font-size: 10px;">unity</a> <a href="/tags/upload/" style="font-size: 10px;">upload</a> <a href="/tags/wireshark%E7%BB%83%E4%B9%A0/" style="font-size: 12.86px;">wireshark练习</a> <a href="/tags/%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2/" style="font-size: 10px;">上下文切换</a> <a href="/tags/%E4%B8%8D%E7%AD%89%E5%BC%8F/" style="font-size: 10px;">不等式</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90/" style="font-size: 15.71px;">中间代码生成</a> <a href="/tags/%E4%B8%BB%E5%AE%9A%E7%90%86/" style="font-size: 10px;">主定理</a> <a href="/tags/%E4%B9%90%E7%90%86/" style="font-size: 10.71px;">乐理</a> <a href="/tags/%E4%BA%8C%E5%88%86/" style="font-size: 10.71px;">二分</a> <a href="/tags/%E4%BA%8C%E5%88%86%E5%9B%BE/" style="font-size: 10px;">二分图</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E5%A0%86/" style="font-size: 10.71px;">二叉堆</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91/" style="font-size: 10px;">二叉查找树</a> <a href="/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6/" style="font-size: 11.43px;">二进制</a> <a href="/tags/%E4%BB%A3%E7%A0%81/" style="font-size: 15.71px;">代码</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/" style="font-size: 10.71px;">代码优化</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E8%83%BD%E5%8A%9B/" style="font-size: 10px;">代码能力</a> <a href="/tags/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/" style="font-size: 10px;">优先队列</a> <a href="/tags/%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/" style="font-size: 10px;">优化程序性能</a> <a href="/tags/%E5%85%B3%E8%81%94%E5%AE%B9%E5%99%A8/" style="font-size: 10px;">关联容器</a> <a href="/tags/%E5%86%85%E5%AD%98/" style="font-size: 10px;">内存</a> <a href="/tags/%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/" style="font-size: 10px;">内存分配</a> <a href="/tags/%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80/" style="font-size: 10px;">内存地址</a> <a href="/tags/%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4/" style="font-size: 10.71px;">内存空间</a> <a href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" style="font-size: 10.71px;">内存管理</a> <a href="/tags/%E5%86%85%E5%AD%98%E8%99%9A%E6%8B%9F%E5%8C%96/" style="font-size: 10px;">内存虚拟化</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%96%E8%AF%91/" style="font-size: 10px;">分布式编译</a> <a href="/tags/%E5%88%86%E6%AF%94%E4%BE%8B%E8%B0%83%E5%BA%A6/" style="font-size: 10px;">分比例调度</a> <a href="/tags/%E5%88%86%E6%B2%BB/" style="font-size: 10px;">分治</a> <a href="/tags/%E5%88%86%E9%A1%B5/" style="font-size: 10px;">分页</a> <a href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" style="font-size: 10px;">前缀和</a> <a href="/tags/%E5%89%B2%E7%82%B9/" style="font-size: 10px;">割点</a> <a href="/tags/%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98/" style="font-size: 10px;">动态内存</a> <a href="/tags/%E5%8A%A8%E7%94%BB/" style="font-size: 10px;">动画</a> <a href="/tags/%E5%8C%BA%E9%97%B4%E6%9C%80%E5%A4%A7%E5%80%BC/" style="font-size: 10px;">区间最大值</a> <a href="/tags/%E5%8C%BA%E9%97%B4%E6%9F%A5%E8%AF%A2/" style="font-size: 10px;">区间查询</a> <a href="/tags/%E5%8C%BA%E9%97%B4%E7%BB%B4%E6%8A%A4/" style="font-size: 11.43px;">区间维护</a> <a href="/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" style="font-size: 10px;">博弈论</a> <a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size: 11.43px;">图论</a> <a href="/tags/%E5%9C%B0%E5%9B%BE%E7%94%9F%E6%88%90/" style="font-size: 10px;">地图生成</a> <a href="/tags/%E5%9C%B0%E5%9D%80%E7%BF%BB%E8%AF%91/" style="font-size: 10px;">地址翻译</a> <a href="/tags/%E5%A4%9A%E7%BA%A7%E5%8F%8D%E9%A6%88%E9%98%9F%E5%88%97/" style="font-size: 10px;">多级反馈队列</a> <a href="/tags/%E5%AE%B9%E5%99%A8/" style="font-size: 10px;">容器</a> <a href="/tags/%E5%B7%AE%E5%88%86/" style="font-size: 11.43px;">差分</a> <a href="/tags/%E5%B7%B4%E4%BB%80%E5%8D%9A%E5%BC%88/" style="font-size: 10px;">巴什博弈</a> <a href="/tags/%E5%B9%B3%E8%A1%A1%E6%A0%91/" style="font-size: 10.71px;">平衡树</a> <a href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/" style="font-size: 10px;">并查集</a> <a href="/tags/%E5%BC%82%E5%B8%B8%E6%8E%A7%E5%88%B6%E6%B5%81/" style="font-size: 10px;">异常控制流</a> <a href="/tags/%E5%BD%A2%E5%BC%8F%E8%AF%AD%E8%A8%80/" style="font-size: 12.86px;">形式语言</a> <a href="/tags/%E5%BD%A9%E7%A5%A8%E8%B0%83%E5%BA%A6/" style="font-size: 10px;">彩票调度</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 10px;">微信小程序</a> <a href="/tags/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/" style="font-size: 10px;">思维导图</a> <a href="/tags/%E6%84%9F%E6%83%B3/" style="font-size: 11.43px;">感想</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 17.86px;">操作系统</a> <a href="/tags/%E6%95%99%E5%AD%A6%E8%B5%84%E6%96%99/" style="font-size: 10px;">教学资料</a> <a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 11.43px;">数学</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%86%E6%9E%90/" style="font-size: 10px;">数据流分析</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 11.43px;">数据结构</a> <a href="/tags/%E6%95%B0%E7%BB%84/" style="font-size: 10px;">数组</a> <a href="/tags/%E6%96%87%E4%BB%B6/" style="font-size: 10px;">文件</a> <a href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%94%BB%E5%87%BB/" style="font-size: 10px;">文件上传攻击</a> <a href="/tags/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/" style="font-size: 10px;">文件操作</a> <a href="/tags/%E6%97%A0%E5%BA%8F%E5%AE%B9%E5%99%A8/" style="font-size: 10px;">无序容器</a> <a href="/tags/%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/" style="font-size: 10px;">智能指针</a> <a href="/tags/%E6%9C%80%E5%A4%A7%E5%AD%97%E4%B8%B2%E5%92%8C/" style="font-size: 10px;">最大字串和</a> <a href="/tags/%E6%9C%80%E5%A4%A7%E6%B5%81/" style="font-size: 10px;">最大流</a> <a href="/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" style="font-size: 10px;">最小生成树</a> <a href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/" style="font-size: 10px;">最短路</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">机器学习</a> <a href="/tags/%E6%A0%91/" style="font-size: 10px;">树</a> <a href="/tags/%E6%A0%91%E4%B8%8A%E5%80%8D%E5%A2%9E/" style="font-size: 10px;">树上倍增</a> <a href="/tags/%E6%A0%91%E5%BD%A2%E6%95%B0%E7%BB%84/" style="font-size: 10px;">树形数组</a> <a href="/tags/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/" style="font-size: 10px;">树链剖分</a> <a href="/tags/%E6%A6%82%E7%8E%87%E8%AE%BA/" style="font-size: 10.71px;">概率论</a> <a href="/tags/%E6%A8%A1%E6%9D%BF/" style="font-size: 10.71px;">模板</a> <a href="/tags/%E6%AE%B5%E5%BC%8F%E5%86%85%E5%AD%98/" style="font-size: 10px;">段式内存</a> <a href="/tags/%E6%AE%B5%E5%BC%8F%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" style="font-size: 10px;">段式内存管理</a> <a href="/tags/%E6%B1%87%E7%BC%96/" style="font-size: 10.71px;">汇编</a> <a href="/tags/%E6%B5%85%E6%8B%B7%E8%B4%9D/" style="font-size: 10px;">浅拷贝</a> <a href="/tags/%E6%B7%B1%E6%8B%B7%E8%B4%9D/" style="font-size: 10px;">深拷贝</a> <a href="/tags/%E6%B8%B2%E6%9F%93/" style="font-size: 10px;">渲染</a> <a href="/tags/%E6%B8%B8%E6%88%8F%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">游戏编程</a> <a href="/tags/%E7%89%B9%E6%80%A7/" style="font-size: 11.43px;">特性</a> <a href="/tags/%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F/" style="font-size: 10px;">直接运行程序</a> <a href="/tags/%E7%9F%A9%E9%98%B5/" style="font-size: 10px;">矩阵</a> <a href="/tags/%E7%A2%8E%E7%89%87/" style="font-size: 10px;">碎片</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" style="font-size: 13.57px;">离散数学</a> <a href="/tags/%E7%A9%BA%E9%97%B2%E5%86%85%E5%AD%98/" style="font-size: 10px;">空闲内存</a> <a href="/tags/%E7%A9%BA%E9%97%B2%E9%93%BE%E8%A1%A8/" style="font-size: 10px;">空闲链表</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法</a> <a href="/tags/%E7%BA%BF%E6%80%A7/" style="font-size: 10.71px;">线性</a> <a href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/" style="font-size: 10px;">线段树</a> <a href="/tags/%E7%BB%A7%E6%89%BF/" style="font-size: 10px;">继承</a> <a href="/tags/%E7%BC%96%E7%A0%81/" style="font-size: 11.43px;">编码</a> <a href="/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/" style="font-size: 10px;">编码规范</a> <a href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" style="font-size: 10.71px;">编程语言</a> <a href="/tags/%E7%BC%96%E8%AF%91/" style="font-size: 10px;">编译</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 17.14px;">编译原理</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96/" style="font-size: 10px;">编译器优化</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E6%B5%81/" style="font-size: 10.71px;">网络流</a> <a href="/tags/%E8%87%AA%E5%8A%A8%E6%9C%BA/" style="font-size: 12.86px;">自动机</a> <a href="/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 10px;">英语</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" style="font-size: 10px;">虚拟化</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2/" style="font-size: 10px;">计算机图形</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%90%86%E8%AE%BA/" style="font-size: 12.86px;">计算机理论</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/" style="font-size: 18.57px;">计算机系统</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 15px;">计算机网络</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 19.29px;">设计模式</a> <a href="/tags/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/" style="font-size: 15.71px;">词法分析</a> <a href="/tags/%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90/" style="font-size: 15.71px;">语义分析</a> <a href="/tags/%E8%AF%AD%E6%B3%95/" style="font-size: 12.14px;">语法</a> <a href="/tags/%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/" style="font-size: 15.71px;">语法分析</a> <a href="/tags/%E8%AF%AD%E8%A8%80/" style="font-size: 12.86px;">语言</a> <a href="/tags/%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95/" style="font-size: 10px;">调度算法</a> <a href="/tags/%E8%B4%AA%E5%BF%83/" style="font-size: 10px;">贪心</a> <a href="/tags/%E8%BE%93%E5%85%A5%E6%B3%95/" style="font-size: 10px;">输入法</a> <a href="/tags/%E8%BF%9B%E7%A8%8B/" style="font-size: 11.43px;">进程</a> <a href="/tags/%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6/" style="font-size: 10px;">进程调度</a> <a href="/tags/%E9%93%BE%E6%8E%A5/" style="font-size: 10px;">链接</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 11.43px;">随笔</a> <a href="/tags/%E9%9B%86%E5%90%88/" style="font-size: 10px;">集合</a> <a href="/tags/%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/" style="font-size: 10px;">静态分析</a> <a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" style="font-size: 20px;">面向对象</a> <a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 10px;">项目</a> <a href="/tags/%E9%A1%BA%E5%BA%8F%E5%AE%B9%E5%99%A8/" style="font-size: 10px;">顺序容器</a> <a href="/tags/%E9%A2%84%E5%A4%84%E7%90%86%E5%AE%8F/" style="font-size: 10px;">预处理宏</a> <a href="/tags/%E9%A2%84%E5%A4%84%E7%90%86%E6%8C%87%E4%BB%A4/" style="font-size: 10px;">预处理指令</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/08/04/Wechat-P/first--time-trying/">第一个微信小程序——创建与总览</a>
          </li>
        
          <li>
            <a href="/2023/08/04/QT/FirstApplication/">第一个Qt程序——文本查询</a>
          </li>
        
          <li>
            <a href="/2023/08/04/operating-system/leading-chapter/">Operating System Chapter 1</a>
          </li>
        
          <li>
            <a href="/2023/08/04/operating-system/CH1-Segmentation/">段式内存管理</a>
          </li>
        
          <li>
            <a href="/2023/08/04/operating-system/CH1-proportionalShare/">分比例调度</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Dnull_P<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>