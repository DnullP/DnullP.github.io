

<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>Yacc和Lex的基本使用 [ Dnull_P Welcome~ ]</title>
  
  <!-- stylesheets list from _config.yml -->
  
  <link rel="stylesheet" href="/css/Genso.css">
  
  <link rel="stylesheet" href="/css/layout/layout.css">
  
  <link rel="stylesheet" href="/css/layout/navigator.css">
  
  <link rel="stylesheet" href="/css/layout/page-container.css">
  
  <link rel="stylesheet" href="/css/layout/page-cover.css">
  
  <link rel="stylesheet" href="/css/layout/slidebar.css">
  
  <link rel="stylesheet" href="/css/index/index.css">
  
  <link rel="stylesheet" href="/css/index/recommend-card-container.css">
  
  <link rel="stylesheet" href="/css/index/card-container.css">
  
  <link rel="stylesheet" href="/css/index/card.css">
  
  <link rel="stylesheet" href="/css/post/post.css">
  
  <link rel="stylesheet" href="/css/post/idea.css">
  
  <link rel="stylesheet" href="/css/tool/color.css">
  
  
  <script>
    const urlList = ('https://s2.loli.net/2023/07/23/mivfcl7wqgVsYdP.jpg,https://s2.loli.net/2023/07/23/E3uyek7OVlJgtLT.jpg,https://s2.loli.net/2023/07/23/q9skN6cPAZ14fwH.png,https://s2.loli.net/2023/07/23/RedmkprBY81ZhaV.jpg,https://s2.loli.net/2023/07/23/pt1ArR7NqO8vMXl.png,https://s2.loli.net/2023/07/23/MZEW5UCFSBPiNvH.png,https://s2.loli.net/2023/07/23/8urpklSmq6xR5LF.jpg,https://s2.loli.net/2023/07/23/E6Os9tkrRP4FZ7f.jpg,https://s2.loli.net/2023/07/23/IPq4HsZCOfTMGxk.jpg,https://s2.loli.net/2023/07/23/sAhIbjyLeMBgfuw.jpg,https://s2.loli.net/2023/07/23/ipTsxHoDOawRrfM.png,https://s2.loli.net/2023/07/23/eTYKcWz7jb5mqyo.png,https://s2.loli.net/2023/07/23/lHLk3OMeY7qXnTP.jpg,https://s2.loli.net/2023/07/23/u9dvATztknGecmI.jpg,https://s2.loli.net/2023/07/23/calWvPZEbI9tG4o.png,https://s2.loli.net/2023/07/23/MLZr1j7hdDnIHGU.png,https://s2.loli.net/2023/07/23/PlqeV1XpgQrxI8u.jpg,https://s2.loli.net/2023/07/23/uWQXFEBh5iCcNJV.png,https://s2.loli.net/2023/07/23/xjcUksAMvHQVhim.jpg,https://s2.loli.net/2023/07/23/Bd46rfJ2HYhQGkM.jpg,https://s2.loli.net/2023/07/23/1BgtkI3Aw58qrGv.jpg,https://s2.loli.net/2023/07/23/z8naFUvWV7BfKud.jpg,https://s2.loli.net/2023/07/23/Xj4wlzuKTDQOmHh.png,https://s2.loli.net/2023/07/23/mKzLHqPkUWTivAu.png,https://s2.loli.net/2023/07/23/a36bWlVynziMrSU.jpg,https://s2.loli.net/2023/07/23/6ZNUeJAtDCRvWq8.jpg,https://s2.loli.net/2023/07/23/7nGYxgcyoi8aSIR.jpg,https://s2.loli.net/2023/07/23/EVeCvBAt1LOgJSU.jpg,https://s2.loli.net/2023/07/23/onE5MQBPGdzDROh.jpg,https://s2.loli.net/2023/07/23/316kgDancGthANM.jpg,https://s2.loli.net/2023/07/23/oeRXvLm5byqgazF.jpg,https://s2.loli.net/2023/07/23/HXj7NsSW5vyCoIn.jpg,https://s2.loli.net/2023/07/23/sqM2XznWeEol3f4.jpg,https://s2.loli.net/2023/07/23/xGAflC5roSOsJRz.jpg,https://s2.loli.net/2023/07/23/cF2oWANXImMREKx.jpg,https://s2.loli.net/2023/07/23/IqutSTML7EXRza3.jpg,https://s2.loli.net/2023/07/23/zYNG9XHIEfg4quh.png').split(',');
  </script>

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div class="background">
  

  <img src="https://s2.loli.net/2023/07/23/uWQXFEBh5iCcNJV.png" alt="">

  <div class="title-text animate__animated animate__bounce">
    <h1>This is
      <span class="name">
        Dnull_P
      </span>
    </h1>
    Welcome Hell !

  </div>
</div>

<div class="background-coverage">
  <!--Typed text-->
  <div class="background-coverage-text">
    <span id="background-coverage-text">
    </span>
  </div>
</div>

<div class="background-occupation">

</div>

  <div class="navigator">
  <div class="navi-buttom-container">
    
    
  <a href="/" class="navi-buttom">
    <div>
      Home
    </div>
  </a>
  
  
    
  <a href="/about" class="navi-buttom">
    <div>
      About
    </div>
  </a>
  
  
    
  <a href="/contact" class="navi-buttom">
    <div>
      Contact
    </div>
  </a>
  
  
    
    <div class="navi-dropdown">
      <div class="dropbtn">
        post
      </div>
      <div class="dropdown-content">
        
        <a href="/archives">
          Aarchives
        </a>
        
        <a href="/tags">
          Tags
        </a>
        
      </div>
    </div>
  </div>
  
  
</div>

  <div class="page-container">
    <div class="slidebar-warp">
  <div class="slidebar">
    <div class="panel">

      <div class="avatar">
        <img src="/pic/avatar.jpg" alt="">
      </div>

      <div class="info">
        <div class="subinfo-1">
          <div class="subinfo-1-left">
            <div class="subinfo-1-left-info">
              <div class="subinfo-1-left-info-inner">
                <div class="subinfo-1-left-info-front">
                  Post
                </div>
                <div class="subinfo-1-left-info-back random-color">
                  163
                </div>
              </div>
            </div>

            <div class="subinfo-1-left-info">
              <div class="subinfo-1-left-info-inner">
                <div class="subinfo-1-left-info-front">
                  Cate
                </div>
                <div class="subinfo-1-left-info-back random-color">
                  40
                </div>
              </div>
            </div>

            <div class="subinfo-1-left-info">
              <div class="subinfo-1-left-info-inner">
                <div class="subinfo-1-left-info-front">
                  Tag
                </div>
                <div class="subinfo-1-left-info-back random-color">
                  198
                </div>
              </div>
            </div>

          </div>

          <div class="subinfo-1-right">
            <div class="subinfo-1-right-inner">
              <div class="subinfo-1-right-front">
                This Month
              </div>
              <div class="subinfo-1-right-back random-color">
                9
              </div>
            </div>
          </div>
        </div>

        <div class="subinfo-2-wrap">
          <div class="subinfo-2">

            
            <div class="sociallink">
    <a href=https://github.com/DnullP>
      <img src="/svg/github.svg" alt="">
    </a>
</div>
            

          </div>
        </div>
      </div>

      <div class="more-opt">

      </div>

    </div>

    <div class="icon-warp">


      <button class="hide-slidebar-button">
        <img src="/svg/arrow-right-line.svg" id="slideBarArrow">
      </button>


    </div>
  </div>
</div>

    <div class="content">
      <div class="post">
  <h1>Yacc和Lex的基本使用</h1>
  <h1 id="前置准备"><a href="#前置准备" class="headerlink" title="前置准备"></a>前置准备</h1><ul>
<li>Yacc: parser的生成器</li>
<li>Lex: scanner的生成器</li>
</ul>
<p>在Ubuntu环境下安装对应的<code>bsion</code>和<code>flex</code></p>
<h1 id="基本格式"><a href="#基本格式" class="headerlink" title="基本格式"></a>基本格式</h1><h2 id="Flex"><a href="#Flex" class="headerlink" title="Flex"></a>Flex</h2><pre class="language-lex" data-language="lex"><code class="language-lex">%&#123;
#include &quot;y.tab.h&quot;
letter [a-zA-Z]
digit [0-9]
word &#123;letter&#125;(&#123;letter&#125;|&#123;digit&#125;)*
%&#125;

%%
[0-9]+          &#123; yylval &#x3D; atoi(yytext); return T_NUM; &#125;
[-&#x2F;+*()\n]      &#123; return yytext[0]; &#125;
[ \t\n]         ;
.               &#123; yyerror(&quot;Unknown character&quot;); &#125;
%%

int yywrap(void) &#123; 
    return 1;
&#125;</code></pre><p>如上<code>%%</code>将程序分为三个区域:</p>
<ul>
<li>第一个区域是声明, 包括了头文件的声明和正则定义</li>
<li>第二个区域是词法分析规则</li>
<li>第三个区域是辅助函数</li>
</ul>
<p>通过<code>%&#123;</code>和<code>%&#125;</code>括起来的部分会原封不动的复制到生成的<code>lex.yy.c</code>中, 一般用于包含头文件<br>正则定义使用一般通用的正则表达式语法, 但是也包括了一些扩展语法, 比较常用的有:</p>
<ul>
<li><code>r/s</code>: 当后面跟着的是<code>s</code>时, 才返回<code>r</code></li>
<li><code>&#123;&#125;</code>: 用花括号括起一个class, 可以表示一个正则表达式的名字</li>
<li><code>()</code>: 括号用于规定优先级</li>
<li><code>&quot;&quot;</code>: 表示字符串的匹配</li>
<li><code>&#39;&#39;</code>: 表示字符的匹配, 特殊字符可以用<code>\</code>转义, 也可以用<code>&#39;</code>括起来</li>
</ul>
<p>在词法分析区的后面是对应的lexeme匹配后, 进行的动作</p>
<ul>
<li><code>yylval</code>代表这个token的属性参数, 是一个全局变量, 在parser调用<code>yylex()</code>返回token后压入栈中, 供parser使用</li>
<li><code>yytext</code>代表目前匹配到的字符串</li>
<li><code>yywarp()</code>是在读取完当前文件后, 是否继续读取下一个文件, 一般返回1表示结束</li>
</ul>
<h2 id="Bsion"><a href="#Bsion" class="headerlink" title="Bsion"></a>Bsion</h2><pre class="language-yacc" data-language="yacc"><code class="language-yacc">%&#123;
#include &lt;stdio.h&gt;
void yyerror(const char* msg) &#123;&#125;
%&#125;

%token T_NUM

%left &#39;+&#39; &#39;-&#39;
%left &#39;*&#39; &#39;&#x2F;&#39;

%%

S   :   S E &#39;\n&#39;        &#123; printf(&quot;ans &#x3D; %d\n&quot;, &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&#125;&amp;#x27; at position 5: 2); &#125;̲
    |   &#x2F;* emp…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;2); &#125;
    |   &#x2F;* empty *&#x2F;     &#123; &#x2F;* empty *&#x2F; &#125;
    ;

E   :   E &amp;#x27;+&amp;#x27; E         &#123; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Can&amp;#x27;t use function &amp;#x27;&lt;&#x2F;span&gt;&amp;#x27; in math mode at position 4:  &#x3D; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;̲&amp;#x27; at position 1: ̲̲1 + &quot; style&#x3D;&quot;color:#cc0000&quot;&gt;&lt;span class&#x3D;&quot;latin_fallback&quot;&gt;̲1 + &lt;&#x2F;span&gt;&lt;&#x2F;span&gt;3; &#125;
    |…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt; &#x3D; &lt;span class&#x3D;&quot;katex&quot;&gt;&lt;span class&#x3D;&quot;katex-mathml&quot;&gt;&lt;math xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;1&lt;&#x2F;mn&gt;&lt;mo&gt;+&lt;&#x2F;mo&gt;&lt;&#x2F;mrow&gt;&lt;annotation encoding&#x3D;&quot;application&#x2F;x-tex&quot;&gt;1 + &lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;katex-html&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;span class&#x3D;&quot;base&quot;&gt;&lt;span class&#x3D;&quot;strut&quot; style&#x3D;&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;mord&quot;&gt;1&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;mord&quot;&gt;+&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;3; &#125;
    |   E &amp;#x27;-&amp;#x27; E         &#123; &lt;&#x2F;span&gt; &#x3D; &lt;span class&#x3D;&quot;katex&quot;&gt;&lt;span class&#x3D;&quot;katex-mathml&quot;&gt;&lt;math xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;1&lt;&#x2F;mn&gt;&lt;mo&gt;−&lt;&#x2F;mo&gt;&lt;&#x2F;mrow&gt;&lt;annotation encoding&#x3D;&quot;application&#x2F;x-tex&quot;&gt;1 - &lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;katex-html&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;span class&#x3D;&quot;base&quot;&gt;&lt;span class&#x3D;&quot;strut&quot; style&#x3D;&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;mord&quot;&gt;1&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;mord&quot;&gt;−&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;3; &#125;
    |   E &#39;*&#39; E         &#123; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Can&amp;#x27;t use function &amp;#x27;&lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&amp;&amp;#x27; at position 1: &amp;̲#x27; in math m…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;&amp;#x27; in math mode at position 4:  &#x3D; &lt;&#x2F;span&gt;̲1 * &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&#125;&amp;#x27; at position 4: 3; &#125;̲
    |…&quot; style&#x3D;…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;3; &#125;
    |…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt; &#x3D; &lt;&#x2F;span&gt;1 * &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&#125;&amp;#x27; at position 4: 3; &#125;̲
    |   E &amp;#x2…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;3; &#125;
    |   E &amp;#x27;&#x2F;&amp;#x27; E         &#123; &lt;&#x2F;span&gt; &#x3D; &lt;&#x2F;span&gt;1 &#x2F; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&#125;&amp;#x27; at position 4: 3; &#125;̲
    |   T_NUM …&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;3; &#125;
    |   T_NUM           &#123; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Can&amp;#x27;t use function &amp;#x27;&lt;&#x2F;span&gt;&amp;#x27; in math mode at position 4:  &#x3D; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;̲&amp;#x27; at position 1: ̲̲1; &#125;
    |   &amp;#…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;&lt;span class&#x3D;&quot;latin_fallback&quot;&gt;̲1; &#125;
    |   &amp;#x27;(…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt; &#x3D; &lt;&#x2F;span&gt;&lt;&#x2F;span&gt;1; &#125;
    |   &amp;#x27;(&amp;#x27; E &amp;#x27;)&amp;#x27;       &#123; &lt;&#x2F;span&gt; &#x3D; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&#125;&amp;#x27; at position 4: 2; &#125;̲
    ;

%%

int…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;2; &#125;
    ;

%%

int main() &#123;
    return yyparse();
&#125;</code></pre><p>yacc也通过<code>%%</code>划分为了三个区域:</p>
<ul>
<li>声明区域</li>
<li>规则区域</li>
<li>辅助函数区域</li>
</ul>
<p>之前的词法分析中用到的<code>yyerror()</code>定义在此处了, 同时还包括了头文件的声明</p>
<ul>
<li>%token: 声明一个语法单元, 词法翻译器中的返回值即为语法分析器中定义的token, 如果有<code>yylval</code>的话, 会将<code>yylval</code>加入语法分析的栈中</li>
<li>&lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;#&amp;#x27; at position 80: …是<code>yylval</code>绑定的值</li>
</ul>
<p>#̲## 解决二义性</p>
<p><code>%lef…&amp;quot; style=&amp;quot;color:#cc0000&amp;quot;&amp;gt;&amp;lt;span class=&amp;quot;cjk_fallback&amp;quot;&amp;gt;表示产生式左边的句型的属性变量, \&lt;/span&gt;1表示产生式右边第一个语法单元的属性变量, \&lt;span class=&quot;katex-error&quot; title=&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;#&amp;#x27; at position 37: …是</code>yylval&#96;绑定的值</p>
<p>#̲## 解决二义性</p>
<p><code>%lef…&quot; style=&quot;color:#cc0000&quot;&gt;2表示第二个, 以此类推, 这些属性变量就是</code>yylval&#96;绑定的值</p>
<h3 id="解决二义性"><a href="#解决二义性" class="headerlink" title="解决二义性"></a>解决二义性</h3><p><code>%left</code>和<code>%right</code>用于解决二义性, 优先级高的放在前面, 优先级低的放在后面</p>
<p>left表示左结合, right表示右结合</p>
<p>通过向前读1符号, 可以解决一些二义性情况, 如果仍然无法判断, 则可以通过<code>%prec</code>来指定优先级</p>
<pre class="language-yacc" data-language="yacc"><code class="language-yacc">%left &amp;#x27;+&amp;#x27; &amp;#x27;-&amp;#x27;
%left &amp;#x27;*&amp;#x27; &amp;#x27;&#x2F;&amp;#x27;
%left UMINUS

%%

E   :   E &amp;#x27;+&amp;#x27; E         &#123; &lt;&#x2F;span&gt;&lt;&#x2F;span&gt; &#x3D; &lt;&#x2F;span&gt;1 + &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&#125;&amp;#x27; at position 4: 3; &#125;̲
    |   E &amp;#x27;-&amp;#x27; …&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;3; &#125;
    |   E &amp;#x27;-&amp;#x27; E         &#123; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Can&amp;#x27;t use function &amp;#x27;&lt;&#x2F;span&gt;&amp;#x27; in math mode at position 4:  &#x3D; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;̲&amp;#x27; at position 1: ̲̲1 - &quot; style&#x3D;&quot;color:#cc0000&quot;&gt;&lt;span class&#x3D;&quot;latin_fallback&quot;&gt;̲1 - &lt;&#x2F;span&gt;&lt;&#x2F;span&gt;3; &#125;
    |…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt; &#x3D; &lt;span class&#x3D;&quot;katex&quot;&gt;&lt;span class&#x3D;&quot;katex-mathml&quot;&gt;&lt;math xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;1&lt;&#x2F;mn&gt;&lt;mo&gt;−&lt;&#x2F;mo&gt;&lt;&#x2F;mrow&gt;&lt;annotation encoding&#x3D;&quot;application&#x2F;x-tex&quot;&gt;1 - &lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;katex-html&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;span class&#x3D;&quot;base&quot;&gt;&lt;span class&#x3D;&quot;strut&quot; style&#x3D;&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;mord&quot;&gt;1&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;mord&quot;&gt;−&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;3; &#125;
    |   E &amp;#x27;*&amp;#x27; E         &#123; &lt;&#x2F;span&gt; &#x3D; &lt;span class&#x3D;&quot;katex&quot;&gt;&lt;span class&#x3D;&quot;katex-mathml&quot;&gt;&lt;math xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1998&#x2F;Math&#x2F;MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;1&lt;&#x2F;mn&gt;&lt;mo&gt;∗&lt;&#x2F;mo&gt;&lt;&#x2F;mrow&gt;&lt;annotation encoding&#x3D;&quot;application&#x2F;x-tex&quot;&gt;1 * &lt;&#x2F;annotation&gt;&lt;&#x2F;semantics&gt;&lt;&#x2F;math&gt;&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;katex-html&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;span class&#x3D;&quot;base&quot;&gt;&lt;span class&#x3D;&quot;strut&quot; style&#x3D;&quot;height:0.6444em;&quot;&gt;&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;mord&quot;&gt;1&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;mord&quot;&gt;∗&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;3; &#125;
    |   E &#39;&#x2F;&#39; E         &#123; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Can&amp;#x27;t use function &amp;#x27;&lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&amp;&amp;#x27; at position 1: &amp;̲#x27; in math m…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;&amp;#x27; in math mode at position 4:  &#x3D; &lt;&#x2F;span&gt;̲1 &#x2F; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&#125;&amp;#x27; at position 4: 3; &#125;̲
    |…&quot; style&#x3D;…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;3; &#125;
    |…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt; &#x3D; &lt;&#x2F;span&gt;1 &#x2F; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&#125;&amp;#x27; at position 4: 3; &#125;̲
    |   &amp;#x27;…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;3; &#125;
    |   &amp;#x27;-&amp;#x27; E %prec UMINUS &#123; &lt;&#x2F;span&gt; &#x3D; -&lt;&#x2F;span&gt;2; &#125;
    |   T_NUM           &#123; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Can&amp;#x27;t use function &amp;#x27;&lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&amp;&amp;#x27; at position 1: &amp;̲#x27; in math m…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;&amp;#x27; in math mode at position 4:  &#x3D; &lt;&#x2F;span&gt;̲1; &#125;
    |   &amp;#x27;(…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt; &#x3D; &lt;span class&#x3D;&quot;katex-error&quot; title&#x3D;&quot;ParseError: KaTeX parse error: Expected &amp;#x27;EOF&amp;#x27;, got &amp;#x27;&#125;&amp;#x27; at position 4: 1; &#125;̲
    |   &amp;#x27;…&quot; style&#x3D;&quot;color:#cc0000&quot;&gt;1; &#125;
    |   &amp;#x27;(&amp;#x27; E &amp;#x27;)&amp;#x27;       &#123; &lt;&#x2F;span&gt; &#x3D; &lt;&#x2F;span&gt;2; &#125;
    ;</code></pre><p>这里为<code>E -&gt; &#39;-&#39; E</code>这个产生式指定了优先级, 使得<code>-</code>的优先级比<code>+</code>和<code>-</code>高(靠后的优先级高)</p>
<p>如果不加入对负号的优先级设定, 则会产生以下的移入-归约冲突(其中一个例子):</p>
<pre class="language-" data-language=""><code class="language-">Example: &#39;-&#39; E • &#39;+&#39; E
  Shift derivation
    E
    ↳ 8: &#39;-&#39; E
             ↳ 3: E • &#39;+&#39; E
  Reduce derivation
    E
    ↳ 3: E            &#39;+&#39; E
         ↳ 8: &#39;-&#39; E •</code></pre><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
</div>

<div id="paginator">
  
</div>

<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
  mermaid.initialize({
    securityLevel: 'loose',
    theme: 'base',
  });
</script>


<!-- scripts list from theme config.yml -->

<script src="/js/post/mermaid.js"></script>


    </div>

  </div>



  
  <!-- scripts list from theme config.yml -->
  
  <script src="/js/layout/animation.js"></script>
  
  <script src="/js/layout/svg.js"></script>
  
  <script src="/js/csstool.js"></script>
  
  

</body>

</html>